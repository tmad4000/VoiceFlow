{"id":"VoiceFlow-00xa","title":"Notes \u0026 Transcripts panel - view saved notes, recent transcripts, live transcript","description":"## Feature Request\nAdd panels/views for managing notes and transcripts.\n\n## Components\n1. **Notes Panel** - Explicitly saved notes (\"take a note\" command)\n   - List view of all saved notes\n   - Search/filter notes\n   - Edit/delete notes\n\n2. **Recent Transcripts Panel** - Recent dictation sessions\n   - List of transcript sessions\n   - Preview and full view\n   - Export options\n\n3. **Live Transcript Panel** - Current session view\n   - Full live transcript as it's being dictated\n   - Separate from the minimal floating panel\n   - May show full turn history\n\n## Voice Commands to Add\n- \"take a note\" / \"save this\" - save current text or selection as a note\n- \"show notes\" - open notes panel\n- \"show transcripts\" - open transcripts panel\n\n## Design Questions\n- Should notes and transcripts be same panel with tabs, or separate windows?\n- Where should \"take a note\" save to? Local file, app storage, or external (Obsidian, Apple Notes)?\n- Should live transcript be in floating panel (expanded mode) or separate window?\n\n## Related\n- VoiceFlow-uvam: Dictation Box feature\n- VoiceFlow-062: Recording/transcription epic","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-15T23:37:34.351466-08:00","updated_at":"2026-01-15T23:37:34.351466-08:00","comments":[{"id":15,"issue_id":"VoiceFlow-00xa","author":"jacobcole","text":"Design pattern: All content panels should include an outlink button to open the underlying storage directory in Finder. This gives users easy access to raw files and makes the storage location discoverable.","created_at":"2026-01-16T08:50:03Z"}]}
{"id":"VoiceFlow-014","title":"Add spoken punctuation keywords (colon, exclamation, etc.)","description":"Review needed: confirm which spoken punctuation phrases should be supported.\n\nMap spoken punctuation phrases like 'colon', 'exclamation point', 'question mark' into symbols during dictation.\n\n**Note:** See VoiceFlow-4o7 for expanded scope including live dictation mode behavior.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T14:32:08.605382-08:00","updated_at":"2026-01-16T00:14:02.270737-08:00","closed_at":"2026-01-16T00:14:02.270737-08:00","close_reason":"Added 25+ spoken punctuation keywords to live dictation including period, comma, colon, semicolon, question mark, exclamation point, dash, quote, apostrophe, ellipsis, underscore, asterisk, ampersand, percent, dollar, slash, backslash, pipe, tilde, caret, backtick, plus, equals, less than, greater than. All keywords follow existing pattern with gap timing check for multi-word variants."}
{"id":"VoiceFlow-062","title":"[Epic] Voice-activated recording, transcription, and note-taking","description":"Add voice commands for capturing audio, transcriptions, and notes with timestamped file storage. Initial implementation uses local text/audio files; future integration with noos database. Commands: voiceflow start/stop recording, voiceflow start/stop transcribing, voiceflow make a note, voiceflow start/stop making a note, voiceflow make a long note.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-15T16:49:36.098587-08:00","updated_at":"2026-01-15T16:49:36.098587-08:00"}
{"id":"VoiceFlow-06v","title":"Add 'command' voice command with Claude Code chat panel","description":"## What This Feature Is\n\nYou want to **talk to Claude Code through VoiceFlow**. Not dictation - actual delegation. You speak, Claude acts.\n\nRight now VoiceFlow is a **transcription tool** - it turns your voice into keystrokes in whatever app you're focused on. This new feature makes it a **command interface** to an AI agent that can actually do things on your behalf.\n\n---\n\n## The Two Modes\n\n### Mode 1: \"command [whatever]\" - Fire and Forget\n\n```\nYou: \"command write down that I should call Mom tomorrow\"\n     ‚Üì\nClaude Code executes in background\n     ‚Üì\nBrief response appears somehow (TBD)\n     ‚Üì\nYou continue what you were doing\n```\n\n### Mode 2: \"command open\" - Interactive Session\n\n```\nYou: \"command open\"\n     ‚Üì\nChat panel appears\n     ‚Üì\nYou type/talk back and forth with Claude\n     ‚Üì\nFull conversation with tool output visible\n     ‚Üì\n\"command close\" or Escape to dismiss\n```\n\n---\n\n## Why ~/ai-os?\n\nThis isn't a generic Claude instance. It's **your** Claude - the one in ai-os with:\n- Your MCP servers (email, calendar, memory, etc.)\n- Your CLAUDE.md instructions\n- Your tool configurations\n- `--dangerously-skip-permissions` so it can actually act\n\nThe working directory indicator reminds you this is the \"real\" Claude with full capabilities.\n\n---\n\n## The Panel When Open\n\nA **second floating window** (separate from the transcript panel) that's basically a lightweight chat client:\n\n```\n‚îå‚îÄ Command Panel ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ üìÅ ~/ai-os                    [√ó]       ‚îÇ  ‚Üê Working dir indicator\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ                                         ‚îÇ\n‚îÇ You: Check my email                     ‚îÇ\n‚îÇ                                         ‚îÇ\n‚îÇ Claude: You have 3 unread emails...     ‚îÇ\n‚îÇ   ‚ñ∂ Tool: mcp_gmail_search [collapsed]  ‚îÇ  ‚Üê Expandable tool use\n‚îÇ   ‚ñ∂ Tool: mcp_gmail_read [collapsed]    ‚îÇ\n‚îÇ                                         ‚îÇ\n‚îÇ You: Reply to the one from Sarah        ‚îÇ\n‚îÇ                                         ‚îÇ\n‚îÇ Claude: Done. I sent: \"Thanks Sarah...\" ‚îÇ\n‚îÇ   ‚ñ∂ Tool: mcp_gmail_send [collapsed]    ‚îÇ\n‚îÇ                                         ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ [Type a message...]            [Send]   ‚îÇ  ‚Üê Input at bottom\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n### Key Properties\n- **Non-activating** - doesn't steal focus from your current app\n- **Lightweight Swift feel** - not a web view, native and fast\n- **Collapsible tool output** - see what Claude did without clutter\n- **Message queue** - can type ahead while waiting for response\n\n---\n\n## The Inline Response Question (Undecided)\n\nWhen you say \"command xyz\" without opening the panel, where does the response go?\n\n### Option C - Overlay on Existing Transcript Panel\n- Response appears as a card in/on the VoiceFlow panel\n- Has \"Open Full\" button if you want more\n- Dismiss to clear\n\n### Option E - Smart Routing\n- Short responses ‚Üí toast notification\n- Long responses ‚Üí auto-open the full panel\n- More adaptive, less predictable\n\n---\n\n## Primary Use Cases\n\n1. **\"command check my email and tell me what's important\"**\n   - Claude searches gmail, summarizes\n   - You get a quick answer\n\n2. **\"command write down [idea] and add it to my memory\"**\n   - Claude writes to your memory system\n   - Brief confirmation: \"Added to memory\"\n\n3. **\"command what's on my calendar today\"**\n   - Claude checks calendar MCP\n   - Lists your meetings\n\n4. **\"command open\"** ‚Üí then interactive conversation\n   - For anything multi-turn\n   - For when you want to see the details\n\n---\n\n## What This Enables\n\nYou're building **voice-first AI assistance**. The pattern is:\n\n1. You're doing something (coding, writing, browsing)\n2. You have a thought or need\n3. You say \"command [thing]\"\n4. It happens\n5. You continue what you were doing\n\n**No context switching. No opening apps. No typing. Just speak and it's done.**\n\n---\n\n## Technical Approach\n\n### Voice Commands\n- **'command open'** - Opens the command panel for interactive chat\n- **'command close'** - Closes the command panel (Escape key also closes)\n- **'command [text]'** - Executes [text] as immediate command (inline mode)\n\n### New Files to Create\n1. `CommandPanelWindow.swift` - NSPanel subclass (similar to FloatingPanelWindow)\n2. `CommandPanelView.swift` - SwiftUI chat interface\n3. `ClaudeCodeService.swift` - Process management and stdio communication\n4. `CommandMessage.swift` - Model for chat messages\n5. `CommandResponseOverlay.swift` - (if Option C) overlay view for inline responses\n\n### AppState Changes\n- `isCommandPanelVisible: Bool`\n- `commandMessages: [CommandMessage]`\n- `commandPendingInput: String`\n- `claudeCodeService: ClaudeCodeService?`\n- `inlineCommandResponse: CommandMessage?` (for inline mode)\n\n### Claude Code Integration\n- Spawn process: `claude --dangerously-skip-permissions --output-format stream-json`\n- Working directory: ~/ai-os\n- Pipe stdin for messages, parse stdout for streaming responses\n- Process persists across commands within session\n\n---\n\n## Out of Scope (v1)\n- Voice input directly to command panel (uses keyboard for now)\n- Multiple concurrent sessions\n- Persistent conversation history across app restarts","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-15T12:13:12.874902-08:00","updated_at":"2026-01-15T17:16:37.115858-08:00","closed_at":"2026-01-15T17:16:37.115858-08:00","close_reason":"Core command feature implemented: command panel, inline commands, long command mode, status check, Claude Code CLI integration","labels":["command-agent"]}
{"id":"VoiceFlow-083","title":"Context-aware capitalization using accessibility","description":"Read the current text field context via accessibility APIs to determine proper capitalization (e.g., don't capitalize after a comma, do capitalize at start of field or after period). Could also inform punctuation decisions.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-01T01:01:42.01636-08:00","updated_at":"2026-01-01T01:01:42.01636-08:00"}
{"id":"VoiceFlow-0b21","title":"Command panel input: auto-expand height on text wrap","description":"**Current behavior:**\nThe multiline input field calculates height based on newline count only (`inputText.components(separatedBy: \"\\n\").count`). When text wraps within a line, the height doesn't adjust.\n\n**Problem:**\nIf you type a long line that soft-wraps, you can't see all the text because the input height stays at 1 line.\n\n**Desired behavior:**\n- Input should auto-expand when text wraps (not just on explicit newlines)\n- Minimum height of 2 lines when there's any content, or when text is long enough to wrap\n- Could also consider a slightly larger default height in command mode\n\n**Current code location:**\n`Sources/Views/CommandPanelView.swift` - `calculatedInputHeight` computed property (around line 340)\n\n```swift\nprivate var calculatedInputHeight: CGFloat {\n    let lineHeight: CGFloat = 18\n    let padding: CGFloat = 10\n    let minLines: CGFloat = 1\n    let maxLines: CGFloat = 5\n\n    let lineCount = CGFloat(max(1, inputText.components(separatedBy: \"\\n\").count))\n    let clampedLines = min(max(lineCount, minLines), maxLines)\n    return (clampedLines * lineHeight) + padding\n}\n```\n\n**Possible approaches:**\n1. Calculate actual rendered height using NSTextView's layoutManager\n2. Estimate wrapped lines based on text length / average chars per line\n3. Increase minLines to 2 as a simpler fix","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-16T01:03:40.180005-08:00","updated_at":"2026-01-16T01:03:40.180005-08:00"}
{"id":"VoiceFlow-0jt","title":"Fix dictation transfer when speaking immediately after mic off-\u003eon","description":"Review needed: define expected behavior for first utterance after mic Off‚ÜíOn.\n\nSometimes first utterance after turning mic from Off to On fails to transfer. Investigate startup/connection timing and add buffering or grace period.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T14:31:47.191338-08:00","updated_at":"2026-01-06T16:16:37.6627-08:00"}
{"id":"VoiceFlow-0lp","title":"Feature: Automatic Sleep Timer","description":"Automatically transition the microphone from On mode to Sleep mode after a configurable period of silence (default 15 minutes). This should be enabled by default but include a setting to adjust the duration or disable it entirely for long-running dictation sessions.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-27T08:26:21.796057-08:00","updated_at":"2025-12-27T15:06:57.756182-08:00","closed_at":"2025-12-27T15:06:57.756207-08:00","labels":["backlog","needs-design"]}
{"id":"VoiceFlow-0n2","title":"Feature: Context-Aware Dictation (Smart Punctuation)","description":"Research and implement a way to retrieve the text context surrounding the cursor using Accessibility APIs (AXUIElement). Use this context to improve capitalization and punctuation (e.g., knowing to capitalize if following a period). Consider sending this context to an AI model for better prediction.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-27T08:06:48.045005-08:00","updated_at":"2025-12-27T08:06:48.045005-08:00","labels":["backlog","needs-design"]}
{"id":"VoiceFlow-0rh","title":"Add extensible voice-to-keyboard shortcut system","description":"Map voice commands like 'tab back' to Ctrl+Shift+Tab for RSI-friendly navigation","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T18:18:37.79517-08:00","updated_at":"2025-12-26T18:25:10.597692-08:00","closed_at":"2025-12-26T18:25:10.597692-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-0tj","title":"Create ClaudeCodeService for process management","description":"Create service to spawn and communicate with Claude Code CLI process.\n\nFile: Sources/Services/ClaudeCodeService.swift\n\nKey responsibilities:\n- Start claude process with --dangerously-skip-permissions in ~/ai-os\n- Use --output-format stream-json for structured streaming output\n- Pipe messages to stdin\n- Parse streaming JSON responses from stdout\n- Handle process lifecycle (start, stop, restart)\n- Error handling for process failures\n- Emit parsed messages/tool uses via callbacks or Combine publishers\n\nProcess setup:\n- workingDirectory: ~/ai-os (expandTilde)\n- executable: /usr/local/bin/claude (or find via which)\n- arguments: [\"--dangerously-skip-permissions\", \"--output-format\", \"stream-json\"]\n\nStreaming output parsing:\n- Parse JSONL from stdout\n- Extract assistant text chunks\n- Extract tool_use events with name/input\n- Extract tool_result events with output\n- Handle conversation turns\n\nConsider:\n- Backpressure handling for rapid responses\n- Reconnection logic if process dies\n- Clean shutdown on panel close","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T12:14:25.128629-08:00","updated_at":"2026-01-15T12:35:17.632564-08:00","closed_at":"2026-01-15T12:35:17.632564-08:00","close_reason":"Initial implementation complete","labels":["command-agent"],"dependencies":[{"issue_id":"VoiceFlow-0tj","depends_on_id":"VoiceFlow-dwp","type":"blocks","created_at":"2026-01-15T12:14:43.261909-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-0yw","title":"Claude Code streaming response behavior - understand and improve loading UX","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-15T18:24:48.124171-08:00","updated_at":"2026-01-15T18:24:48.124171-08:00"}
{"id":"VoiceFlow-0zq","title":"Add dictation keywords: no caps/letter + at sign/hashtag condensation","description":"Implement no-caps + letter directives and condense at/hashtag phrases into @/# tokens.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T16:10:07.354214-08:00","updated_at":"2026-01-06T16:10:21.67517-08:00","closed_at":"2026-01-06T16:10:21.67517-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-10c","title":"Add minimal/compact mode for floating panel","description":"Add a toggle to switch the floating panel between:\n\n**Minimal Mode:**\n- Just shows on/off/sleep buttons (or a single toggle)\n- Smallest possible footprint\n- Stays out of the way during normal use\n\n**Normal Mode:**\n- Current full UI with transcript, history, warnings, etc.\n\n**UX Ideas:**\n- Double-click to toggle modes\n- Small expand/collapse button in corner\n- Keyboard shortcut to toggle\n- Remember last mode preference\n\n**Implementation:**\n- Add `isPanelMinimal` state to AppState\n- Create MinimalPanelView with just mode buttons\n- Animate size transition between modes","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T21:01:52.297188-07:00","updated_at":"2026-01-09T21:10:16.855711-07:00","closed_at":"2026-01-09T21:10:16.855711-07:00","close_reason":"Implemented minimal panel mode with collapse/expand buttons and animated transitions"}
{"id":"VoiceFlow-12qn","title":"Preserve and show intermediate streaming output in command panel","description":"Want to distinguish between intermediate/ephemeral output and final output in the command panel.\n\n**Problem:**\n- Claude Code streams various intermediate outputs during processing\n- Some of this gets consolidated/replaced by final output\n- Useful debugging/context info may be lost\n- Current UI doesn't preserve or expose intermediate state\n\n**Desired:**\n- Collapsible section to view all intermediate streamed output\n- Clear visual distinction: 'this is final' vs 'this was intermediate'\n- Preserve raw stream for debugging even if UI shows polished version\n\n**Research needed (Claude Code stream-json format):**\n- What event types are streamed? (content_block_start, content_block_delta, etc.)\n- What's intermediate vs final?\n- Are there progress indicators, thinking tokens, partial tool outputs?\n- Does --verbose give more intermediate info?\n\n**Current ClaudeCodeService events:**\n- textChunk - partial text\n- textComplete - final text\n- toolUseStart/toolUseEnd\n- messageComplete\n\n**Questions:**\n- What intermediate data is currently discarded?\n- Should we log raw JSON events for debugging?\n- How do other Claude UIs (claude.ai, Cursor) handle this?","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T00:28:42.953718-08:00","updated_at":"2026-01-16T00:28:42.953718-08:00"}
{"id":"VoiceFlow-160","title":"Add special keywords + shortcuts view in Commands settings","description":"Show dictation keywords like 'new line'/'say' in Commands tab and provide a view of global shortcuts.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-30T11:29:11.002988-08:00","updated_at":"2025-12-30T11:29:49.557132-08:00","closed_at":"2025-12-30T11:29:49.557132-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-1m5","title":"Build WebSocket client for AssemblyAI streaming API","description":"Connect to wss://streaming.assemblyai.com/v3/ws, send audio, receive transcripts","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-26T18:18:31.581878-08:00","updated_at":"2025-12-26T18:25:09.227328-08:00","closed_at":"2025-12-26T18:25:09.227328-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-1rf","title":"AssemblyAI transcription latency regression","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-31T21:55:07.436202-08:00","updated_at":"2025-12-31T21:57:40.063523-08:00","closed_at":"2025-12-31T21:57:40.063523-08:00","close_reason":"Removed speaker_labels parameter from AssemblyAI connection - this was causing significant latency"}
{"id":"VoiceFlow-1sw","title":"Feature: Pre-emptive Dictation Flush on Command Detection","description":"When a command is recognized in Mixed mode, immediately type any unfinalized words that occurred BEFORE the command phrase. This prevents shortcuts (like 'copy that' or 'new tab') from executing before the preceding dictated text has been inserted.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T07:32:05.725468-08:00","updated_at":"2025-12-27T15:12:31.1998-08:00","closed_at":"2025-12-27T15:12:31.19981-08:00","labels":["backlog","needs-design"]}
{"id":"VoiceFlow-1tga","title":"Improve commands panel organization - show mode requirements","description":"The commands panel in settings needs better organization:\n- Show which mode each command works in (dictation, sleep, command)\n- Group commands by category (mode control, dictation, notes, recording, etc.)\n- Make it clear which commands are mode-specific\n- Improve visual hierarchy","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:27:17.984072-08:00","updated_at":"2026-01-16T01:27:23.733695-08:00"}
{"id":"VoiceFlow-1uq","title":"Wire up voice commands and panel toggling","description":"Add 'command open' and 'command close' voice commands and integrate panel lifecycle.\n\nFiles to modify:\n- Sources/Models/AppState.swift (processVoiceCommands)\n- Sources/VoiceFlowApp.swift (AppDelegate)\n\nVoice commands:\n- 'command open' / 'command' / 'open command': opens panel\n- 'command close' / 'close command': closes panel\n- Toggle behavior if panel already open\n\nAppDelegate integration:\n- Create/destroy CommandPanelWindow on visibility change\n- Start ClaudeCodeService when panel opens\n- Stop ClaudeCodeService when panel closes\n- Handle Escape key to close panel\n\nAppState methods:\n- toggleCommandPanel()\n- openCommandPanel()\n- closeCommandPanel()\n- sendCommandMessage(text: String)\n\nAdd to system commands section in processVoiceCommands() alongside 'wake up', 'go to sleep', etc.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T12:14:30.264572-08:00","updated_at":"2026-01-15T12:35:17.635844-08:00","closed_at":"2026-01-15T12:35:17.635844-08:00","close_reason":"Initial implementation complete","labels":["command-agent"],"dependencies":[{"issue_id":"VoiceFlow-1uq","depends_on_id":"VoiceFlow-hki","type":"blocks","created_at":"2026-01-15T12:14:44.133636-08:00","created_by":"daemon"},{"issue_id":"VoiceFlow-1uq","depends_on_id":"VoiceFlow-0tj","type":"blocks","created_at":"2026-01-15T12:14:44.417307-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-25ln","title":"Make Claude input field multiline","description":"Current TextField is single-line. For longer prompts or code snippets, a multiline TextEditor would be better. Consider: auto-expand as user types, max height before scrolling, Shift+Enter for newlines vs Enter to send.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T23:43:04.048949-08:00","updated_at":"2026-01-15T23:49:41.091656-08:00","closed_at":"2026-01-15T23:49:41.091656-08:00","close_reason":"Implemented multiline input with auto-expanding height (1-5 lines), Enter to send, Shift+Enter for newlines"}
{"id":"VoiceFlow-27e","title":"Respect pauses for 'new line' keyword detection","description":"Use word timing to only trigger newline keyword when 'new' and 'line' are close together; ensure keyword pill fires when applied.","notes":"Use actual say-prefix detection per turn instead of sticky flag; avoid blocking keywords like new line.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T11:58:02.527596-08:00","updated_at":"2025-12-30T12:55:00.44303-08:00","closed_at":"2025-12-30T12:55:00.44303-08:00","close_reason":"Closed","comments":[{"id":6,"issue_id":"VoiceFlow-27e","author":"jacobcole","text":"Adjust newline keyword pause threshold and ensure keyword feedback","created_at":"2025-12-30T20:19:21Z"},{"id":8,"issue_id":"VoiceFlow-27e","author":"jacobcole","text":"Fix newline keyword logic (trim/ literal flags)","created_at":"2025-12-30T20:26:56Z"},{"id":9,"issue_id":"VoiceFlow-27e","author":"jacobcole","text":"Keyword gap timing may be in ms; adjust scaling to detect newline","created_at":"2025-12-30T20:33:57Z"},{"id":10,"issue_id":"VoiceFlow-27e","author":"jacobcole","text":"Keyword detection still failing; adjust say-prefix handling to avoid blocking keywords","created_at":"2025-12-30T20:54:34Z"}]}
{"id":"VoiceFlow-28w","title":"Investigate newline creating background tab in Chrome","description":"Review needed: confirm Chrome repro steps and expected newline behavior.\n\nRepro: saying 'new line' in Chrome sometimes opens a background tab instead of inserting a newline. Identify event mapping conflict and adjust key dispatch/timing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T14:31:37.636874-08:00","updated_at":"2026-01-06T16:16:32.39291-08:00"}
{"id":"VoiceFlow-29c","title":"Fix 'say' literal escape for following command phrases","description":"When an utterance starts with 'say', treat it as literal in live dictation and avoid stripping command phrases.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T11:22:36.553647-08:00","updated_at":"2025-12-30T11:50:20.572438-08:00","closed_at":"2025-12-30T11:50:20.572438-08:00","close_reason":"Closed","comments":[{"id":5,"issue_id":"VoiceFlow-29c","author":"jacobcole","text":"Say literal still outputs 'say'/'safe' instead of stripping prefix","created_at":"2025-12-30T19:49:57Z"}]}
{"id":"VoiceFlow-29l","title":"Add Shortcuts Help to Settings","description":"Add a section in Settings displaying available shortcuts.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T19:41:46.447645-08:00","updated_at":"2025-12-29T19:45:28.902965-08:00","closed_at":"2025-12-29T19:45:28.902965-08:00","close_reason":"Implemented as requested.","labels":["Documentation","UI"]}
{"id":"VoiceFlow-2at","title":"Architecture: Hybrid App Store + Direct Distribution Strategy","description":"Design VoiceFlow with modular architecture to support both App Store (lite) and direct distribution (pro) versions.\n\n## Background\n- Accessibility API (AXUIElement) required for context-aware features\n- Accessibility API NOT allowed in Mac App Store sandbox\n- Input Monitoring (CGEventTap) IS allowed in sandbox\n\n## Strategy\n**App Store Lite Version:**\n- Basic dictation (type at cursor)\n- Voice commands\n- Uses Input Monitoring only\n\n**Direct Pro Version:**\n- All lite features plus:\n- Context-aware punctuation (reads text field content)\n- Smart terminal mode detection\n- Inline text rewriting/replacement\n\n## Implementation Notes\n- Core engine should be shared between versions\n- Accessibility features should be modular/optional\n- Runtime detection of available permissions\n- Feature flags or build configurations to differentiate","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-27T22:49:15.363839-08:00","updated_at":"2025-12-27T22:50:33.093309-08:00","comments":[{"id":3,"issue_id":"VoiceFlow-2at","author":"jacobcole","text":"Research doc: docs/research/2024-12-27-speech-apis-dictation.md\n\nSection 8 covers Accessibility vs Input Monitoring permissions and App Store implications.","created_at":"2025-12-28T06:52:10Z"}]}
{"id":"VoiceFlow-2av","title":"Add 'voiceflow make a note' voice command (single utterance)","description":"Voice command to capture next utterance as a note. 'voiceflow make a note [content]' saves the following speech to notes/YYYY-MM-DD_HH-MM-SS.txt. Single utterance mode - saves after natural pause.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T16:50:00.682107-08:00","updated_at":"2026-01-16T01:10:33.082893-08:00","closed_at":"2026-01-16T01:10:33.082893-08:00","close_reason":"Implemented voice commands with capture logic in handleDictationTurn","dependencies":[{"issue_id":"VoiceFlow-2av","depends_on_id":"VoiceFlow-9vj","type":"blocks","created_at":"2026-01-15T16:50:13.04081-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-2cf","title":"Extra top space above mode buttons in floating panel","description":"There is unnecessary vertical space at the top of the floating panel above the Off/On/Wake buttons. Reduced .padding(.top, 8) to 4 but may need further adjustment or window style changes.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-27T00:10:24.984814-08:00","updated_at":"2025-12-27T07:17:13.574632-08:00","closed_at":"2025-12-27T10:00:00-08:00"}
{"id":"VoiceFlow-2d0","title":"Implement auto-fill for API keys","description":"Allow loading default API keys from a non-committed Secrets file or similar mechanism.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T19:41:20.050502-08:00","updated_at":"2025-12-29T19:45:28.896011-08:00","closed_at":"2025-12-29T19:45:28.896011-08:00","close_reason":"Implemented as requested.","labels":["Config","Security"]}
{"id":"VoiceFlow-2fu8","title":"Shortcut editor: too easy to accidentally overwrite, no cancel option","description":"## Problem\nIn Settings, clicking on a keyboard shortcut immediately starts editing it, and there's no way to cancel. Any key press overwrites the shortcut irrevocably.\n\n## Expected Behavior\n- Should require explicit action to enter edit mode (e.g., double-click or \"Edit\" button)\n- Should have a Cancel button or Escape key to abort editing\n- Should show the previous value while editing so user knows what they're replacing\n\n## Current Behavior\nSingle click starts editing, any keystroke immediately saves, no undo/cancel.\n\n## Suggested Fix\n1. Add \"Press Escape to cancel\" hint during editing\n2. Store previous value and restore on Escape\n3. Consider requiring double-click or explicit \"Edit\" button to enter edit mode","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-15T23:31:37.404219-08:00","updated_at":"2026-01-15T23:38:52.460785-08:00","closed_at":"2026-01-15T23:38:52.460785-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-2sm","title":"Command panel: Connection indicator shows red between messages (misleading)","description":"The connection status dot shows red/disconnected after each response because --print mode exits the process. This is misleading - the panel is ready to accept new input, just no process running. Consider: 1) Show 'Ready' (green) when idle but can send, 2) Show 'Processing' (yellow/blue) during request, 3) Show 'Error' (red) only on actual errors.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-15T16:52:32.534166-08:00","updated_at":"2026-01-15T16:55:42.556753-08:00","closed_at":"2026-01-15T16:55:42.556753-08:00","close_reason":"Changed status indicator to show Ready (green) / Processing (blue) / Error (red) instead of misleading Connected/Disconnected. Added statusColor and statusText computed properties."}
{"id":"VoiceFlow-39fi","title":"Command panel status shows disconnected (red dot) even when working","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-15T18:26:19.572164-08:00","updated_at":"2026-01-15T21:49:14.786859-08:00","closed_at":"2026-01-15T21:49:14.786859-08:00","close_reason":"Fixed: Clear commandError when sending new message"}
{"id":"VoiceFlow-3bsd","title":"Session manager dropdown in command panel header","description":"## Design\n\nDropdown in header bar to switch between sessions:\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ üìÅ ~/ai-os  [‚ñº Fix auth bug      ] [+][üêû]‚îÇ\n‚îÇ             ‚îú‚îÄ Fix auth bug (2h ago)       ‚îÇ\n‚îÇ             ‚îú‚îÄ Add dark mode (yesterday)   ‚îÇ\n‚îÇ             ‚îú‚îÄ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ            ‚îÇ\n‚îÇ             ‚îî‚îÄ + New Session               ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n## Data Model\n\n```swift\nstruct ClaudeSession: Codable, Identifiable {\n    let id: String              // Session ID from Claude\n    var name: String            // Auto from first message\n    let createdAt: Date\n    var lastUsedAt: Date\n    var firstMessage: String    // Preview/fallback\n    var chatHistory: [CommandMessage]  // Local messages\n}\n```\n\n## Behavior\n\n- Auto-name from first message (truncate ~30 chars)\n- Store array in UserDefaults\n- Switching sessions loads that session's chat history\n- New Session creates entry, clears chat\n- Most recent at top\n\n## Future (not this ticket)\n- Per-project sessions (when we add project switcher)\n- Manual rename\n- Delete sessions","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T00:46:50.491115-08:00","updated_at":"2026-01-16T00:51:02.38806-08:00","closed_at":"2026-01-16T00:51:02.38806-08:00","close_reason":"Implemented session manager dropdown with session switching, auto-naming, and persistence"}
{"id":"VoiceFlow-3drm","title":"Speaker indicator UX - 'S0' vs 'Speaker 0' design consideration","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-15T18:31:33.695529-08:00","updated_at":"2026-01-16T00:17:32.962474-08:00","closed_at":"2026-01-16T00:17:32.962474-08:00","close_reason":"Updated speaker indicator text to be more human-readable: filter pill now shows 'Speaker 0 only' instead of 'S0 only', and help text uses 'Speaker X' format. Kept compact 'S0' format in the inline badge where space is constrained.","labels":["needs-verification"]}
{"id":"VoiceFlow-3j4","title":"Add Indefinite utterance mode preset (max wait / high certainty)","description":"Add an UtteranceMode preset for very long pauses and maximum certainty. Use high confidence threshold (e.g., 0.95-0.99) and long silence threshold (e.g., 1500-3000ms). Update Settings labels and slider ranges to include the new mode.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T05:12:09.875914-08:00","updated_at":"2025-12-27T06:30:43.261164-08:00","closed_at":"2025-12-27T06:30:43.261164-08:00","close_reason":"Implemented Extra Long utterance mode preset and expanded sliders"}
{"id":"VoiceFlow-3ksx","title":"[Epic] Command panel streaming UX - proper phase indicators","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-15T22:20:31.00728-08:00","updated_at":"2026-01-15T22:20:31.00728-08:00","dependencies":[{"issue_id":"VoiceFlow-3ksx","depends_on_id":"VoiceFlow-7b0","type":"blocks","created_at":"2026-01-15T22:20:45.341054-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-3o0","title":"Bug: 'press cmd k' triggers select all (Cmd+A) instead of Cmd+K in IdeaFlow","description":"## Problem\nWhen saying 'press cmd k' in IdeaFlow, the action appears to trigger Cmd+A (select all) instead of Cmd+K.\n\n## Investigation Notes\n- Log shows tokens correctly parsed: [press, command, k]\n- modifierForToken() correctly maps \"command\" to .command\n- keyCodeForToken() correctly maps lowercase \"k\" to uppercase \"K\" to kVK_ANSI_K\n- Key values: kVK_ANSI_K = 0x28 (40), kVK_ANSI_A = 0x00 (0)\n\n## Possible Causes\n1. Speech recognition intermittently hearing \"a\" instead of \"k\"\n2. Bug in executeKeyboardShortcut() sending wrong keyCode\n3. Race condition or timing issue in key event posting\n4. IdeaFlow-specific keyboard handling\n\n## To Debug\n- Add logging to executeKeyboardShortcut() showing exact keyCode being sent\n- Add logging showing which key token was parsed\n- Test in other apps to see if issue is IdeaFlow-specific\n- Check if issue is consistent or intermittent","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-15T18:13:23.731757-08:00","updated_at":"2026-01-15T18:13:33.333676-08:00","labels":["needs-verification"],"comments":[{"id":13,"issue_id":"VoiceFlow-3o0","author":"jacobcole","text":"Added enhanced logging and 10ms delay between keyDown/keyUp. Needs testing to verify fix.","created_at":"2026-01-16T02:51:34Z"}]}
{"id":"VoiceFlow-3pu","title":"Fix warning banners pushing top controls - limit to 2 max","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-15T16:39:02.111846-08:00","updated_at":"2026-01-15T16:39:12.321155-08:00","closed_at":"2026-01-15T16:39:12.321155-08:00","close_reason":"Limited warnings to 2 max with overflow indicator and Dismiss all button. Added maxHeight: 120 cap."}
{"id":"VoiceFlow-3r7","title":"Consume punctuation after newline keyword","description":"Remove trailing punctuation (e.g., period/comma) immediately after 'new line' so dictation doesn't insert extra punctuation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T11:29:02.788726-08:00","updated_at":"2025-12-30T11:45:01.058647-08:00","closed_at":"2025-12-30T11:45:01.058647-08:00","close_reason":"Closed","comments":[{"id":4,"issue_id":"VoiceFlow-3r7","author":"jacobcole","text":"Newline punctuation still appearing; need more robust handling","created_at":"2025-12-30T19:34:27Z"}]}
{"id":"VoiceFlow-3sa","title":"Add 'long command' keyword for extended voice commands","description":"## Overview\nAdd special keywords for capturing longer voice commands that may contain natural pauses.\n\n## Design Decisions\n- Uses shared ExtendedPauseDetector (10 second default threshold)\n- Stop keywords: 'stop command' and 'stop listening'\n- Independent of other capture modes (recording, notes, etc.)\n\n## Keywords\n- **'long command [text]'** - Captures with extended pause detection\n- **'stop command'** or **'stop listening'** - Ends capture early\n\n## Technical Approach\n1. 'long command' enters ExtendedCaptureMode\n2. Buffer all speech (skip normal command matching)\n3. Wait for stop keyword OR 10s silence\n4. Send entire captured text to Claude Code\n\n## Related\n- Part of command-agent feature set (VoiceFlow-06v)\n- Shares infrastructure with VoiceFlow-6st (long note)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T12:37:13.720822-08:00","updated_at":"2026-01-15T17:16:22.379666-08:00","closed_at":"2026-01-15T17:16:22.379666-08:00","close_reason":"Implemented 'long command' feature with 10s pause detection, stop keywords, and visual indicator","labels":["command-agent"]}
{"id":"VoiceFlow-3v6","title":"Optional command correction and delay","description":"Add cancel/no-wait commands with best-effort undo and configurable command delay in settings.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T22:21:07.412585-08:00","updated_at":"2025-12-26T22:22:14.54734-08:00","closed_at":"2025-12-26T22:22:14.54734-08:00","close_reason":"Configurable command delay and cancel/no-wait implemented"}
{"id":"VoiceFlow-3wu","title":"Add message queue and streaming response handling","description":"Implement the ability to queue messages and handle streaming responses gracefully.\n\nQueuing behavior:\n- User can type and send additional messages while Claude is responding\n- Messages queue up and send sequentially\n- Visual indication of queued messages (dimmed or with clock icon)\n\nStreaming response handling:\n- Show partial response as it streams in\n- Update message content in real-time\n- Tool uses appear as they occur\n- Smooth scroll following\n\nState management:\n- messageQueue: [String] for pending messages\n- Process queue after each response completes\n- Handle errors mid-stream (show error, allow retry)\n\nError handling:\n- Process crash: show error message, offer restart\n- Timeout: show warning after 30s of no output\n- Parse errors: log but continue showing raw output\n\nTesting considerations:\n- Fast typing shouldn't cause race conditions\n- Large responses shouldn't freeze UI\n- Memory management for long conversations","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T12:14:31.484242-08:00","updated_at":"2026-01-15T17:04:19.613528-08:00","closed_at":"2026-01-15T17:04:19.613528-08:00","close_reason":"Implemented message queuing: messages sent while processing are queued and processed sequentially. Added orange badge showing queue count. Queue processed after message completion or error.","labels":["command-agent"],"dependencies":[{"issue_id":"VoiceFlow-3wu","depends_on_id":"VoiceFlow-0tj","type":"blocks","created_at":"2026-01-15T12:14:44.692601-08:00","created_by":"daemon"},{"issue_id":"VoiceFlow-3wu","depends_on_id":"VoiceFlow-hki","type":"blocks","created_at":"2026-01-15T12:14:44.966417-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-3y6k","title":"Recurring: Warning banner pushes content off top of panel","description":"RECURRING ISSUE - has happened multiple times.\n\nWhen a warning/error banner appears at the top of the floating panel, it pushes existing content upward and can push text off the visible area.\n\nScreenshots show:\n- [AssemblyAI] Disconnected error banner\n- Content below getting pushed up\n- 'Connecting...' status visible but top content cut off\n\nThis has been reported before - need a more robust layout solution.\n\nPossible fixes:\n- Fixed height warning area that doesn't push content\n- Warning overlays instead of inline\n- Collapsible warning that doesn't affect layout\n- Scrollable content area that maintains position\n\nLabel: recurring","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-16T01:37:35.9953-08:00","updated_at":"2026-01-16T01:37:35.9953-08:00","labels":["recurring"]}
{"id":"VoiceFlow-3z1","title":"Create CommandPanelWindow (NSPanel subclass)","description":"Create the window container for the command panel, following FloatingPanelWindow patterns.\n\nFile: Sources/Views/CommandPanelWindow.swift\n\nWindow configuration:\n- NSPanel with .nonactivatingPanel style\n- .floating window level\n- Resizable (min 400x400, default 500x600)\n- Translucent/visual effect background\n- Close on Escape key\n- Position: offset from main floating panel or screen edge\n\nFeatures:\n- canBecomeKey: true (for text input focus)\n- canBecomeMain: false\n- becomesKeyOnlyIfNeeded: true\n- Shadow enabled\n- Full screen auxiliary behavior (appears on all spaces)\n\nIntegration:\n- Add to AppDelegate for lifecycle management\n- Toggle via AppState.isCommandPanelVisible\n- Position persistence in UserDefaults","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T12:14:26.258081-08:00","updated_at":"2026-01-15T12:35:17.630022-08:00","closed_at":"2026-01-15T12:35:17.630022-08:00","close_reason":"Initial implementation complete","labels":["command-agent"]}
{"id":"VoiceFlow-43i","title":"Save raw audio recordings with dictation history","description":"Save the raw audio recordings alongside transcription history for:\n- Playback/review of what was actually said\n- Debugging transcription issues\n- Training/fine-tuning local models\n- Accessibility review\n\n## When to Record\n- **Only when mic is \"hot\"**: On mode or Push-to-Talk active\n- **NOT in Sleep mode**: Don't save audio while waiting for wake word\n- This significantly reduces storage and privacy concerns\n\n## Implementation Ideas\n- Save audio chunks to disk during capture (PCM/WAV format)\n- Link audio files to transcript entries in history\n- Add playback button in history view\n- Configurable retention period (auto-delete old recordings)\n- Storage location setting (default ~/Library/Application Support/VoiceFlow/recordings/)\n\n## Considerations\n- Storage space (16kHz mono PCM is ~1.9MB/minute)\n- Privacy implications - clear user consent\n- Option to disable recording entirely\n- Compression options (AAC, FLAC, Opus)","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-12T20:01:04.98852-07:00","updated_at":"2026-01-12T21:44:24.131051-07:00"}
{"id":"VoiceFlow-44w","title":"Force End Utterance is unreliable","description":"Force End (button/voice commands) sometimes doesn't finalize or type the latest utterance. Define expected behavior (wait for current audio to be processed, then end-of-turn). Add logging and fallback typing for unformatted turns if needed; avoid double-typing.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-27T05:12:15.205742-08:00","updated_at":"2025-12-27T15:07:02.924202-08:00","closed_at":"2025-12-27T15:07:02.924205-08:00"}
{"id":"VoiceFlow-45x","title":"Add /voiceflow skill for dedicated issue management session","description":"Create a custom skill that opens a long-running dedicated session for VoiceFlow issue management. Could use `claude --resume` to maintain context across conversations, specifically for managing VoiceFlow bugs, features, and priorities.","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-15T16:48:06.105611-08:00","updated_at":"2026-01-15T16:48:06.105611-08:00"}
{"id":"VoiceFlow-4b7","title":"Implement microphone audio capture with AVFoundation","description":"Capture mono 16-bit PCM audio at 16kHz for AssemblyAI streaming","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-26T18:18:30.368451-08:00","updated_at":"2025-12-26T18:25:08.876407-08:00","closed_at":"2025-12-26T18:25:08.876407-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-4eo","title":"On button dropdown not working","description":"The dropdown menu on the On button in the floating panel is not functioning correctly.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-27T22:04:02.803801-08:00","updated_at":"2025-12-27T23:26:35.639817-08:00","closed_at":"2025-12-27T23:26:35.639817-08:00","close_reason":"Fixed dropdown with menuStyle(.borderlessButton)"}
{"id":"VoiceFlow-4o7","title":"Support explicit punctuation keywords in live dictation mode","description":"Even when live dictation mode is on (no auto-punctuation), support explicit spoken punctuation keywords:\n\n## Punctuation Keywords\n- \"period\" / \"full stop\" ‚Üí .\n- \"comma\" ‚Üí ,\n- \"question mark\" ‚Üí ?\n- \"exclamation point\" / \"exclamation mark\" ‚Üí !\n- \"colon\" ‚Üí :\n- \"semicolon\" ‚Üí ;\n- \"open paren\" / \"left paren\" ‚Üí (\n- \"close paren\" / \"right paren\" ‚Üí )\n- \"open bracket\" / \"left bracket\" ‚Üí [\n- \"close bracket\" / \"right bracket\" ‚Üí ]\n- \"open brace\" / \"left brace\" ‚Üí {\n- \"close brace\" / \"right brace\" ‚Üí }\n- \"quote\" / \"open quote\" ‚Üí \"\n- \"end quote\" / \"close quote\" ‚Üí \"\n- \"apostrophe\" ‚Üí '\n- \"dash\" / \"hyphen\" ‚Üí -\n- \"ellipsis\" ‚Üí ...\n\n## Line/Space Keywords (already exist but verify)\n- \"new line\" / \"newline\" ‚Üí \\n\n- \"new paragraph\" ‚Üí \\n\\n\n- \"tab\" ‚Üí \\t\n\n## Design Considerations\n- Should this be a separate setting or always enabled in live dictation mode?\n- Keyword detection should respect pause timing (avoid \"period\" in \"time period\")\n- Consider \"literal period\" escape for edge cases\n- Related to VoiceFlow-014 (spoken punctuation keywords)\n\n## Related Tickets\n- VoiceFlow-014: Add spoken punctuation keywords","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-12T21:43:52.56572-07:00","updated_at":"2026-01-12T21:43:52.56572-07:00","dependencies":[{"issue_id":"VoiceFlow-4o7","depends_on_id":"VoiceFlow-014","type":"blocks","created_at":"2026-01-12T21:44:08.708772-07:00","created_by":"daemon"}]}
{"id":"VoiceFlow-4p24","title":"Improve error display: show actual errors, not assumed interpretations","description":"**Current behavior:**\nWhen an error occurs, the code checks if errorMessage contains 'unauthorized' or 'invalid' and then shows a generic \"Invalid AssemblyAI API Key\" message. This:\n1. Loses the actual error information\n2. Can misattribute errors (e.g., 'invalid session' becomes 'invalid API key')\n3. Makes debugging harder for users\n\n**Desired behavior:**\n1. **Log full error details** - Always log the complete error message from AssemblyAI/Deepgram\n2. **Show brief but accurate summary** - Display the actual error text, truncated if needed\n3. **Expandable details** - Add an info button/disclosure that shows full error details\n4. **No keyword assumptions** - Don't interpret errors, just display them\n\n**Implementation ideas:**\n- Store both `errorMessage` and `errorDetails` (full text)\n- In the warning banner, show truncated error with \"More...\" button\n- Clicking opens a popover/sheet with full error + timestamp + suggestion to check logs\n- Keep logging the full error to console/debug panel\n\n**Files to modify:**\n- `Sources/Models/AppState.swift` - lines 341-358 (activeWarnings)\n- `Sources/Views/FloatingPanelView.swift` - WarningBanner view","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T00:36:26.49685-08:00","updated_at":"2026-01-16T00:36:26.49685-08:00"}
{"id":"VoiceFlow-4qc","title":"App stops transferring text to target window after running for a while","description":"After some time running, VoiceFlow stops typing text into the target window. Speech recognition may still work (text appears in panel) but keystrokes aren't being sent.\n\n**Workaround**: Saying 'speech off' then 'speech on' fixes it - cycling the mode resets stuck state.\n\nPossible causes:\n1. typedFinalWordCount getting out of sync with actual typed words\n2. lastTypedTurnOrder stuck at wrong value\n3. didTypeDictationThisUtterance not resetting properly\n4. WebSocket state issues\n\nThe mode cycle triggers resetUtteranceState() which likely clears the stuck state.","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-14T02:05:47.739963-08:00","updated_at":"2026-01-14T02:08:33.627449-08:00"}
{"id":"VoiceFlow-4qip","title":"Streaming output missing line breaks as chunks arrive","description":"When Claude streams responses, line breaks aren't rendered properly until the full response is complete. Text comes in as a blob without formatting.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-16T00:20:23.886979-08:00","updated_at":"2026-01-16T00:20:23.886979-08:00","dependencies":[{"issue_id":"VoiceFlow-4qip","depends_on_id":"VoiceFlow-3ksx","type":"blocks","created_at":"2026-01-16T00:20:32.722694-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-4uf","title":"Future: Integrate notes/transcripts with noos knowledge graph","description":"After local file storage is working, add option to sync notes and transcripts to noos knowledge graph. Could auto-tag by date, add relationships, enable semantic search. Depends on noos MCP integration.","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-15T16:50:05.456134-08:00","updated_at":"2026-01-15T16:50:05.456134-08:00","dependencies":[{"issue_id":"VoiceFlow-4uf","depends_on_id":"VoiceFlow-062","type":"blocks","created_at":"2026-01-15T16:50:14.092104-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-57l","title":"New line detection not working in live dictation","description":"Saying 'new line' or similar phrases doesn't insert a newline character in live dictation mode.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-27T22:04:01.432054-08:00","updated_at":"2025-12-27T22:14:35.909322-08:00","closed_at":"2025-12-27T22:14:35.909322-08:00","close_reason":"Fixed in commit a4bb595"}
{"id":"VoiceFlow-5ac","title":"Menu bar app and floating panel","description":"Replace WindowGroup with MenuBarExtra + floating panel window, add panel show/hide and window configuration.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-26T22:04:42.726106-08:00","updated_at":"2025-12-26T22:17:24.495937-08:00","closed_at":"2025-12-26T22:17:24.495937-08:00","close_reason":"Menu bar app and floating panel implemented"}
{"id":"VoiceFlow-5bu","title":"Detect commands in partial utterances for faster response","description":"Commands like 'speech on', 'wake up', 'go to sleep' should be detected and executed as soon as they're recognized in partial transcripts, not wait for end-of-turn.\n\n## Benefits\n- Much faster command response (sub-second)\n- Better UX for mode switching\n\n## Implementation\n- Check partial transcripts for command matches\n- Execute immediately when high-confidence match found\n- May need confidence threshold to avoid false positives\n\n## Commands to Prioritize\n- Mode switching: speech on/off, wake up, go to sleep\n- Flow commands: flow on/off/sleep","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-13T12:39:12.995529-07:00","updated_at":"2026-01-13T12:39:12.995529-07:00"}
{"id":"VoiceFlow-5ooe","title":"'copy that, focus ideaflow, paste that' workflow not working reliably","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-15T18:38:36.519863-08:00","updated_at":"2026-01-15T18:38:36.519863-08:00"}
{"id":"VoiceFlow-5tok","title":"Floating panel cuts off dev badge and menu when too narrow","description":"When dragging the floating panel to be very narrow, the dev mode badge and top-right menu get cut off with no way to access them.\n\n**Current behavior:**\n- Window can be squeezed arbitrarily small\n- Top bar content (dev badge, menu) gets clipped\n- No scroll or indication content is hidden\n\n**Options:**\n1. **Minimum width constraint** (recommended) - Don't allow window smaller than needed for top bar\n2. **Horizontal scroll on top bar** - Allow scroll to access hidden items\n3. **Horizontal scroll on entire panel** - Full panel scrollable\n\n**Recommendation:**\nOption 1 - set a reasonable minWidth on the window/panel. The panel doesn't need to be that narrow, and a minimum width is simpler than scrolling.\n\n**Implementation:**\n- Check FloatingPanelView.swift or window configuration\n- Set .frame(minWidth: X) or NSWindow minSize","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-16T00:02:45.268118-08:00","updated_at":"2026-01-16T00:15:25.340035-08:00","closed_at":"2026-01-16T00:15:25.340035-08:00","close_reason":"Increased minWidth from 280 to 360 pixels in both FloatingPanelView.swift (.frame constraint) and VoiceFlowApp.swift (NSWindow.minSize). This prevents the window from being squeezed narrow enough to cut off the dev badge and menu buttons.","labels":["needs-verification"]}
{"id":"VoiceFlow-65o","title":"Add AI/search interface for settings","description":"When the settings panel is open, provide a way to:\n- Search settings by keyword\n- Ask AI to change settings (e.g., \"turn on live dictation\", \"make the silence threshold longer\")\n- Inquire about what settings do\n\nCould be:\n- A search bar at the top of Settings\n- A chat input for natural language commands\n- Integration with VoiceFlow's voice commands for settings control","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-09T21:07:13.225902-07:00","updated_at":"2026-01-09T21:07:13.225902-07:00"}
{"id":"VoiceFlow-6f8","title":"Consider WhisperFlow/Aqua Voice style popup UI","description":"Explore adding a minimal popup window mode similar to WhisperFlow and Aqua Voice. These apps show a small floating indicator/window when dictating that's less intrusive than the full panel. Could be useful for quick dictation without the full transcript view.","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-01T00:57:56.841827-08:00","updated_at":"2026-01-01T00:57:56.841827-08:00"}
{"id":"VoiceFlow-6fa","title":"Enhance spell command to convert spoken numbers and symbols","description":"Make the \"spell\" command smarter at converting spoken words to characters.\n\n## Current Behavior\n- \"spell hello\" ‚Üí types \"hello\" (just removes spaces)\n\n## Desired Behavior\n- \"spell eight three nine\" ‚Üí types \"839\"\n- \"spell e n d\" ‚Üí types \"end\"\n- \"spell capital a b c\" ‚Üí types \"Abc\"\n- \"spell at sign\" ‚Üí types \"@\"\n- \"spell hash tag\" ‚Üí types \"#\"\n\n## Word-to-Character Mappings\n\n### Numbers\n- zero/oh ‚Üí 0\n- one ‚Üí 1\n- two/to/too ‚Üí 2\n- three ‚Üí 3\n- four/for ‚Üí 4\n- five ‚Üí 5\n- six ‚Üí 6\n- seven ‚Üí 7\n- eight ‚Üí 8\n- nine ‚Üí 9\n\n### Symbols\n- at sign / at ‚Üí @\n- hash / hashtag / pound ‚Üí #\n- dollar / dollar sign ‚Üí $\n- percent ‚Üí %\n- ampersand / and sign ‚Üí \u0026\n- asterisk / star ‚Üí *\n- plus ‚Üí +\n- equals / equal sign ‚Üí =\n- dash / hyphen / minus ‚Üí -\n- underscore ‚Üí _\n- period / dot ‚Üí .\n- comma ‚Üí ,\n- slash / forward slash ‚Üí /\n- backslash ‚Üí \\\n- colon ‚Üí :\n- semicolon ‚Üí ;\n- question mark ‚Üí ?\n- exclamation / exclamation point ‚Üí !\n- open paren / left paren ‚Üí (\n- close paren / right paren ‚Üí )\n- open bracket / left bracket ‚Üí [\n- close bracket / right bracket ‚Üí ]\n- open brace / left brace ‚Üí {\n- close brace / right brace ‚Üí }\n\n### Modifiers\n- capital [letter] ‚Üí uppercase letter\n- uppercase [letter] ‚Üí uppercase letter\n- space ‚Üí literal space character\n\n## Implementation\nAdd a `convertSpokenToCharacter()` function that processes each word/phrase in the spell sequence and maps it to the appropriate character.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T02:06:39.470469-07:00","updated_at":"2026-01-13T09:03:35.49886-07:00","closed_at":"2026-01-13T09:03:35.49886-07:00","close_reason":"Implemented spell command conversion for numbers, symbols, and capital modifier"}
{"id":"VoiceFlow-6hy","title":"Improve command history selection and copy experience","description":"Users want to be able to drag-select across multiple history entries. If that's not possible, revert to a better drag-out-of-the-box experience. Also add Command-Shift-Click support for multi-selection.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T00:59:58.456844-08:00","updated_at":"2025-12-29T19:45:04.973662-08:00","closed_at":"2025-12-29T19:45:04.973662-08:00","close_reason":"Implemented auto-fill for API keys.","labels":["UI"]}
{"id":"VoiceFlow-6in","title":"Add global keyboard shortcut for Claude Code panel","description":"Add a configurable global keyboard shortcut (like Ctrl+Opt+C or similar) to open/toggle the Claude Code command panel from anywhere. Should follow the same pattern as existing shortcuts (pttShortcut, modeToggleShortcut, etc.) and be configurable in Settings.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T13:05:05.155642-08:00","updated_at":"2026-01-15T13:11:07.711749-08:00","closed_at":"2026-01-15T13:11:07.711749-08:00","close_reason":"Closed","labels":["command-agent"]}
{"id":"VoiceFlow-6qe","title":"Investigate 'invalid AssemblyAI API key' error - transient or permanent?","description":"## Problem\nUser reported seeing an \"invalid AssemblyAI API key\" error. Need to investigate:\n1. What the exact error message was\n2. Whether it's a transient issue (network/rate limit) vs actually invalid key\n3. Whether it self-resolves\n\n## Investigation Needed\n- Check AssemblyAI error handling code for exact error messages\n- Look for 401/403 response handling\n- Check if there's retry logic for transient failures\n- Verify API key validation on startup vs during streaming\n\n## Logs Checked\n- Current session logs show successful connections (session expires in ~10800s)\n- No error found in available logs - may have been previous session\n- API key appears valid (32 chars, starts with 86bc8c60...)\n\n## Questions\n- Does AssemblyAI have rate limits that could cause temporary \"invalid key\" errors?\n- Is there a way to distinguish transient vs permanent auth failures?\n- Should we add more detailed error logging for auth failures?","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-15T18:18:37.371024-08:00","updated_at":"2026-01-15T18:18:37.371024-08:00"}
{"id":"VoiceFlow-6st","title":"Add 'voiceflow make a long note' voice command (timeout-based)","description":"## Overview\nVoice command for extended note-taking with auto-stop on long pause.\n\n## Design Decisions\n- Uses shared ExtendedPauseDetector (10 second default threshold)\n- Stop keyword: 'voiceflow stop making a note' or just silence\n- Independent of other capture modes\n\n## Command\n- **'voiceflow make a long note'** - Captures until ~10 second pause\n\n## Technical Approach\n1. Enter ExtendedCaptureMode with noteMode flag\n2. Buffer all speech\n3. Wait for 10s silence (configurable)\n4. Save to notes/YYYY-MM-DD_HH-MM-SS.txt\n\n## Related\n- Part of recording/notes epic (VoiceFlow-062)\n- Shares infrastructure with VoiceFlow-3sa (long command)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T16:50:03.134785-08:00","updated_at":"2026-01-16T01:10:32.96723-08:00","closed_at":"2026-01-16T01:10:32.96723-08:00","close_reason":"Implemented voice commands with capture logic in handleDictationTurn","dependencies":[{"issue_id":"VoiceFlow-6st","depends_on_id":"VoiceFlow-9vj","type":"blocks","created_at":"2026-01-15T16:50:13.562926-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-6szr","title":"Add spinner to tool boxes during execution","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-15T22:20:46.23327-08:00","updated_at":"2026-01-15T22:20:46.23327-08:00","dependencies":[{"issue_id":"VoiceFlow-6szr","depends_on_id":"VoiceFlow-ne1d","type":"blocks","created_at":"2026-01-15T22:20:53.289652-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-6w7","title":"Review: Sensitivity \u0026 Force End Reliability","description":"Review the 2x audio sensitivity increase and the 'Force End' reliability fix (immediate local state reset). Verify 'Extra Long' mode max silence threshold (5s).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T07:17:57.696371-08:00","updated_at":"2026-01-15T17:19:24.798015-08:00","closed_at":"2026-01-15T17:19:24.798015-08:00","close_reason":"Feature reviewed and working - Sensitivity and Force End functionality confirmed working","labels":["needs-review","sleep-deprived"]}
{"id":"VoiceFlow-76w","title":"Add model selection for command panel","description":"Allow user to select which Claude model to use in the command panel (e.g., Opus for complex tasks, Sonnet for faster responses). Should add a model picker in the panel header or settings, and pass the appropriate --model flag to the claude CLI.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T12:56:35.771947-08:00","updated_at":"2026-01-15T13:11:07.71443-08:00","closed_at":"2026-01-15T13:11:07.71443-08:00","close_reason":"Closed","labels":["command-agent"]}
{"id":"VoiceFlow-7b0","title":"Intelligent sentence recomputation after pause","description":"When user pauses mid-sentence, intelligently recompute/reprocess the transcript afterward","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-26T23:44:31.257665-08:00","updated_at":"2025-12-26T23:44:31.257665-08:00","labels":["needs-design"]}
{"id":"VoiceFlow-7bh","title":"Implement real-time transcript display and text insertion","description":"Show live transcription as user speaks, insert text into active app","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-26T18:18:34.846688-08:00","updated_at":"2025-12-26T18:25:10.074451-08:00","closed_at":"2025-12-26T18:25:10.074451-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-7es","title":"Ignore punctuation in command matching","description":"Treat punctuation as optional by filtering non-alphanumeric tokens and mapping matches to word indices for dedupe.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T21:50:13.894687-08:00","updated_at":"2025-12-26T21:51:25.656926-08:00","closed_at":"2025-12-26T21:51:25.656926-08:00","close_reason":"Command matching now filters punctuation and maps tokens to word indices"}
{"id":"VoiceFlow-7lt","title":"Research: Alternative command recognition approaches","description":"Explore alternatives to using AssemblyAI for command recognition:\n- Local wake word detection (Picovoice Porcupine, openWakeWord)\n- Hybrid approach: local command detection + cloud transcription\n- Apple Speech Recognition with custom vocabulary\n- On-device ML models for command classification\n\nGoal: Improve reliability and reduce latency for voice commands while keeping transcription quality high.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T22:10:42.360974-08:00","updated_at":"2025-12-27T22:10:42.360974-08:00","comments":[{"id":1,"issue_id":"VoiceFlow-7lt","author":"jacobcole","text":"## Research Session: 2024-12-27\n\n### Command Detection Options Evaluated\n\n| Library | Latency | Size | Custom | License |\n|---------|---------|------|--------|---------|\n| Porcupine | \u003c100ms | ~2MB | Yes | Free non-commercial |\n| openWakeWord | ~80ms | ~50MB | Yes | Apache 2.0 |\n| Vosk | Real-time | 50MB | Vocab | Apache 2.0 |\n| Apple SpeechTranscriber | Fast | System | Built-in | Native |\n\n### macOS 26 SpeechAnalyzer (Now Available)\n- 2.2x faster than Whisper V3 Turbo\n- On-device, no rate limits\n- Modules: SpeechDetector, SpeechTranscriber, DictationTranscriber\n\n### Recommended Architecture\n1. Porcupine/openWakeWord for always-on wake (\u003c4% CPU)\n2. Apple SpeechTranscriber for commands\n3. AssemblyAI for high-accuracy dictation\n\n### Sources\n- picovoice.ai/platform/porcupine\n- github.com/dscripka/openWakeWord\n- developer.apple.com/documentation/speech/speechanalyzer\n","created_at":"2025-12-28T06:50:21Z"},{"id":2,"issue_id":"VoiceFlow-7lt","author":"jacobcole","text":"Research doc created: docs/research/2024-12-27-speech-apis-dictation.md\n\nContains full analysis of command detection options, macOS 26 SpeechAnalyzer, Talon Conformer comparison, and recommended architecture.","created_at":"2025-12-28T06:52:09Z"}]}
{"id":"VoiceFlow-7oag","title":"Transfer last utterance from sleep mode (forgot to wake up)","description":"When in sleep mode, VoiceFlow still receives transcription but doesn't type it. User sometimes forgets to wake up and speaks a full thought.\n\n**Use case:**\n1. User is in sleep mode\n2. User says something they intended to dictate (forgot to say 'speech on')\n3. User realizes mistake, says 'transfer that' or 'replay that'\n4. VoiceFlow types the last utterance as if they'd been in On mode\n\n**Design questions:**\n- How long to buffer sleep-mode utterances? Last 30 seconds? Last N utterances?\n- What's the voice command? 'transfer that', 'type that', 'replay last'?\n- Should it process the utterance through formatters or type raw?\n- Does this conflict with existing 'type \u003cphrase\u003e' one-shot design (VoiceFlow-gnbd)?\n\n**Implementation:**\n- Already receiving transcripts in sleep mode (for wake word detection)\n- Need to buffer recent utterances instead of discarding\n- Add command to transfer buffered text to typing","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T00:01:52.019955-08:00","updated_at":"2026-01-16T00:01:52.019955-08:00"}
{"id":"VoiceFlow-7of","title":"Research: Push commands to AssemblyAI API as vocabulary hints","description":"Investigate if we're currently sending command phrases to AssemblyAI as vocabulary hints (boost_param or word_boost). If not, explore adding them to improve recognition accuracy for commands like 'window recent', 'flow on', etc.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T22:10:40.955609-08:00","updated_at":"2025-12-27T22:10:40.955609-08:00"}
{"id":"VoiceFlow-7sm","title":"Review: Sleep vs On Mode Refactor","description":"Review the implementation of Sleep mode (replacing Wake) and the new Active Behaviors (Mixed, Dictation, Command). Verify mode transitions (Wake up, Mic off) and system command handling.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T07:17:13.593453-08:00","updated_at":"2026-01-15T17:18:41.259306-08:00","closed_at":"2026-01-15T17:18:41.259306-08:00","close_reason":"Feature reviewed and working - Sleep/On mode transitions function correctly","labels":["needs-review","sleep-deprived"]}
{"id":"VoiceFlow-806","title":"Revert launch at login default to off","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T19:41:14.741199-08:00","updated_at":"2025-12-29T19:45:28.894259-08:00","closed_at":"2025-12-29T19:45:28.894259-08:00","close_reason":"Implemented as requested.","labels":["Config"]}
{"id":"VoiceFlow-8d3","title":"Fix 'session expired maximum session duration exceeded' error","description":"Investigate and fix the 'session expired maximum session duration exceeded' error.\n\nLikely causes:\n- AssemblyAI real-time session hitting max duration limit\n- Deepgram WebSocket session timeout\n- Need to implement automatic session reconnection when duration limit is reached\n\nTasks:\n- [ ] Identify which service is throwing this error\n- [ ] Check the max session duration limits for AssemblyAI/Deepgram\n- [ ] Implement graceful reconnection when session expires\n- [ ] Consider adding user notification when reconnecting","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-14T07:31:59.873806-08:00","updated_at":"2026-01-14T07:37:41.169709-08:00","closed_at":"2026-01-14T07:37:41.169709-08:00","close_reason":"Implemented automatic reconnection before session expiration"}
{"id":"VoiceFlow-8mzc","title":"say keyword not working for 'say command panel' - audit needed","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-15T18:26:55.415386-08:00","updated_at":"2026-01-15T18:26:55.415386-08:00","labels":["needs-verification"],"comments":[{"id":14,"issue_id":"VoiceFlow-8mzc","author":"jacobcole","text":"## Code Analysis (2026-01-15)\n\n**Finding:** The code flow appears correct - 'say' prefix detection should trigger literal mode BEFORE 'command ' prefix is checked.\n\n**Flow for 'say command panel':**\n1. In dictation mode: detectSayPrefix ‚Üí sets currentUtteranceIsLiteral=true ‚Üí types 'command panel' literally\n2. In other modes: processVoiceCommands finds 'say' at line 2421-2491 ‚Üí returns early before reaching 'command ' check\n\n**Possible causes for the issue:**\n- Partial transcripts processed before 'say' is recognized\n- Mode confusion (user in different mode than expected)\n- Timing issue between turns\n\n**Diagnostic logging added:**\n- isSayPrefix: logs text and result\n- Command prefix check: logs transcript, hasPrefix, isLiteral flag\n\n**Status:** Needs reproduction testing with new logging. Test by saying 'say command panel' and checking Debug tab for logs with üîç prefix.","created_at":"2026-01-16T07:55:32Z"}]}
{"id":"VoiceFlow-8ofl","title":"Iterate on 'voiceflow issue' command UX","description":"The 'voiceflow issue' command works but needs UX iteration:\n\nCurrent behavior:\n- Takes latest dictation as title (truncated to 100 chars)\n- Runs bd create directly\n- Shows flash confirmation\n\nQuestions to explore:\n- Should it open a confirmation dialog first?\n- Should user be able to edit title before creating?\n- Should it show the created issue ID in the flash?\n- What if there's no recent dictation - prompt user?\n- Should there be a way to specify type/priority via voice?\n\nRelated: VoiceFlow-dl0o (command documentation page with action buttons)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-16T00:58:43.457-08:00","updated_at":"2026-01-16T00:58:43.457-08:00"}
{"id":"VoiceFlow-8oo","title":"Evaluate wake word alternatives - 'flow' is hard to recognize","description":"The 'flow' prefix commands (flow on, flow off, flow sleep) use the /f/ sound which is a weak labiodental fricative. Research indicates:\n\n- /f/ is harder to detect than plosives (k, t, p) or sibilants (s)\n- Recommended wake words have 6+ phonemes; 'flow on' only has ~5\n\nConsider alternatives with stronger starting sounds:\n- 'voice on/off/sleep' (voiced fricative, 6 phonemes)  \n- 'go flow' prefix (plosive start)\n- 'talk on/off/sleep' (plosive start)\n- Or investigate global hotkeys as an alternative to voice commands for mode switching","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T21:41:52.785022-08:00","updated_at":"2025-12-27T21:42:03.545424-08:00"}
{"id":"VoiceFlow-8q0","title":"Improve high latency warning UX - dismissible, better layout","description":"The high network latency warning banner takes up significant vertical space and may disrupt the UI layout. Users need better control over this warning.\n\n## Current Issues (from screenshot)\n1. Warning takes up ~2 lines of vertical space in the compact floating panel\n2. No way to dismiss the warning\n3. \"Switch to Offline\" is actionable but there's no \"dismiss\" or \"ignore\" option\n4. Warning may reappear frequently if network is flaky\n5. Text layout may push other UI elements around\n\n## Suggested Improvements\n\n### 1. Add Dismiss Button\n- Add an X button to dismiss the warning\n- Remember dismissal for some time period (e.g., 5 minutes) so it doesn't immediately reappear\n- Or add \"Don't show again this session\" option\n\n### 2. Compact Single-Line Layout\n- Condense to single line: \"‚ö†Ô∏è High latency (4443ms) [Offline] [‚úï]\"\n- Make \"Switch to Offline\" a button instead of a link\n- Add dismiss (X) button on the right\n\n### 3. Auto-Dismiss on Recovery\n- If latency recovers, auto-dismiss the warning\n- Don't keep showing warning after user already saw it and latency improved\n\n### 4. Consider Toast/Notification Style\n- Show as temporary toast that auto-dismisses after 5s\n- Less intrusive than persistent banner\n- Can still have \"Switch to Offline\" action\n\n### 5. Threshold Configuration\n- Let user configure latency threshold for warnings\n- Some users may not care about 4s latency, others might\n\n## Current Code Location\nNetwork error/latency UI is in FloatingPanelView.swift around the `showCompactError` and latency warning sections.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-14T23:11:39.309287-08:00","updated_at":"2026-01-15T16:58:07.862997-08:00","closed_at":"2026-01-15T16:58:07.862997-08:00","close_reason":"Addressed by earlier work: Added X dismiss button to warning banners, limited to 2 max, added Dismiss All button, capped maxHeight to prevent layout disruption."}
{"id":"VoiceFlow-8q1","title":"Word-level transcript highlighting","description":"Render final vs non-final words differently in the floating panel.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T22:21:13.394389-08:00","updated_at":"2025-12-26T22:22:24.437393-08:00","closed_at":"2025-12-26T22:22:24.437393-08:00","close_reason":"Word-level highlighting implemented in floating panel"}
{"id":"VoiceFlow-8ri","title":"Smarter end-of-sentence punctuation","description":"Avoid adding periods when the utterance isn't naturally a complete sentence (e.g., single words, fragments, commands). Investigate if AssemblyAI has native support for this via API parameters.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-01T01:01:43.883236-08:00","updated_at":"2026-01-01T01:01:43.883236-08:00","comments":[{"id":11,"issue_id":"VoiceFlow-8ri","author":"jacobcole","text":"## Research Findings (2026-01-01)\n\n### How Competitors Handle It\n- **Aqua Voice** (965ms latency): Uses Whisper decoder as contextual LLM + custom instructions\n- **Wispr Flow** (1399ms latency): LLM-based auto-editing after transcription\n\n### Options for VoiceFlow\n| Approach | Latency | Size |\n|----------|---------|------|\n| Heuristics + NaturalLanguage.framework | \u003c5ms | 0 |\n| Tiny classifier | \u003c10ms | 10-50MB |\n| Qwen2.5-0.5B (4-bit) | 20-50ms | ~300MB |\n\n### Recommended Start\nHeuristics + Apple NaturalLanguage: strip period if \u003c4 words or no verb detected.\n\n### AssemblyAI API\nNo granular punctuation control - post-processing required.","created_at":"2026-01-01T09:09:09Z"}]}
{"id":"VoiceFlow-8u6","title":"Relax mandatory push requirement in AGENTS","description":"Update AGENTS.md so push is recommended rather than mandatory.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-26T21:42:36.172593-08:00","updated_at":"2025-12-26T21:42:41.02335-08:00","closed_at":"2025-12-26T21:42:41.02335-08:00","close_reason":"AGENTS.md updated to make push optional"}
{"id":"VoiceFlow-8y8","title":"Fix live dictation setting ignoring format preference","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-27T14:29:30.950705-08:00","updated_at":"2025-12-27T14:30:05.033877-08:00","closed_at":"2025-12-27T14:30:05.03389-08:00"}
{"id":"VoiceFlow-92kw","title":"Test external ref","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-15T22:24:27.938677-08:00","updated_at":"2026-01-15T22:24:33.449851-08:00","external_ref":"gh-123","deleted_at":"2026-01-15T22:24:33.449851-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"VoiceFlow-96c","title":"Update design doc for command chaining rule","description":"Document command chaining execution rule and punctuation-optional parsing note.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T21:14:24.401057-08:00","updated_at":"2025-12-26T21:14:34.90501-08:00","closed_at":"2025-12-26T21:14:34.90501-08:00","close_reason":"Design doc updated with chaining rule and parsing note"}
{"id":"VoiceFlow-9b0","title":"Settings window not focusing properly","description":"When opening Settings from menu bar, window opens behind other windows instead of coming to front","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-26T23:44:47.30967-08:00","updated_at":"2025-12-27T07:17:13.57536-08:00","closed_at":"2025-12-27T10:00:00-08:00","labels":["bug"]}
{"id":"VoiceFlow-9gk","title":"Collapse speech provider sections in Settings by default","description":"When opening Settings, speech provider sections should be collapsed by default to reduce visual clutter unless there's an issue","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-15T16:40:26.115365-08:00","updated_at":"2026-01-15T16:45:31.251952-08:00","closed_at":"2026-01-15T16:45:31.251952-08:00","close_reason":"Set isAssemblyExpanded to false by default - speech provider sections now collapsed on Settings open"}
{"id":"VoiceFlow-9ky","title":"Fix window recent command text still being inserted","description":"Ensure 'window recent' does not leak into dictation text, including after focus changes or halting commands.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T11:22:25.272926-08:00","updated_at":"2025-12-30T11:23:12.883356-08:00","closed_at":"2025-12-30T11:23:12.883356-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-9pz","title":"App spontaneously going to sleep after brief silence","description":"The app is going to sleep mode after just a few seconds of silence, which is way too aggressive.\n\n## Expected Behavior\n- Stay in On mode during normal pauses in speech\n- Only auto-sleep after extended inactivity (15-30 minutes)\n\n## Actual Behavior\n- Goes to sleep after just a few seconds of quiet\n\n## Investigation\n- Check auto-off timer settings\n- Check silence detection thresholds\n- May be related to utterance end detection settings","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-13T12:39:11.54506-07:00","updated_at":"2026-01-13T13:01:51.523462-07:00","closed_at":"2026-01-13T13:01:51.523462-07:00","close_reason":"Fixed: PTT release was incorrectly triggering sleep even when On mode was activated via voice command. Added pttActivatedOnMode flag to track whether On mode was activated via PTT, and only trigger sleep on PTT release if this flag is true."}
{"id":"VoiceFlow-9uip","title":"Session persistence: load last session on restart + session manager","description":"Currently the command panel starts fresh every time. Want session persistence.\n\n**Features needed:**\n\n1. **Auto-load last session on restart**\n   - Store the session_id from Claude Code responses\n   - On app launch, use --resume with last session_id\n   - Should be the default behavior\n\n2. **Session manager UI**\n   - List previous sessions (from ~/.claude/projects/...)\n   - Show session metadata: date, working directory, message count\n   - Allow switching between sessions\n   - Maybe show first message or summary for each\n\n3. **Session controls**\n   - 'New session' button (clear and start fresh)\n   - 'Resume session X' from picker\n   - Maybe rename/label sessions\n\n**Implementation notes:**\n- Claude Code stores sessions in ~/.claude/projects/\u003cpath-hash\u003e/*.jsonl\n- Session IDs come back in JSON responses\n- Could store last session_id in UserDefaults\n- Session manager could read JSONL files for metadata\n\n**Related:**\n- VoiceFlow-ta46: Switching to --resume for multi-turn (provides session_id)\n- VoiceFlow-m4gu: Clear chat behavior (now = 'new session')","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T00:30:35.157356-08:00","updated_at":"2026-01-16T00:40:09.425824-08:00","closed_at":"2026-01-16T00:40:09.425824-08:00","close_reason":"Implemented session persistence with --resume support","dependencies":[{"issue_id":"VoiceFlow-9uip","depends_on_id":"VoiceFlow-ta46","type":"blocks","created_at":"2026-01-16T00:30:42.435063-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-9vj","title":"Design: Unified capture mode architecture for recording/transcribing/notes","description":"Design the shared architecture for all capture modes:\n\n## Decisions Made\n- **Extended pause threshold: 10 seconds default** (configurable)\n- **Shared ExtendedCaptureMode infrastructure** for long command, long note, etc.\n- **Stop keywords available for all modes** (e.g., 'stop command', 'stop listening')\n- **Modes are independent** - can stop command without stopping recording\n- **'voiceflow' prefix kept** for less-frequent capture commands\n- **'command' remains short** since it's used frequently\n\n## Architecture Components\n1. CaptureMode enum (recording, transcribing, note, longNote, command, longCommand)\n2. ExtendedPauseDetector - shared 10s pause logic with configurable threshold\n3. State machine in AppState tracking active capture modes (can have multiple)\n4. Timestamped file naming convention\n5. Directory structure (recordings/, transcripts/, notes/)\n6. Stop keyword registry mapping keywords to modes\n\n## Stop Keywords\n- 'stop recording' ‚Üí stops recording mode\n- 'stop transcribing' ‚Üí stops transcribing mode  \n- 'stop making a note' ‚Üí stops note mode\n- 'stop command' / 'stop listening' ‚Üí stops command capture\n- Modes are independent - stopping one doesn't affect others","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-15T16:49:56.74103-08:00","updated_at":"2026-01-15T16:53:59.240309-08:00","dependencies":[{"issue_id":"VoiceFlow-9vj","depends_on_id":"VoiceFlow-062","type":"blocks","created_at":"2026-01-15T16:50:12.243369-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-a00","title":"Add 'voiceflow start/stop making a note' voice command (continuous)","description":"Voice command for continuous note-taking. 'voiceflow start making a note' captures all speech until 'voiceflow stop making a note'. Saves accumulated text to notes/YYYY-MM-DD_HH-MM-SS.txt.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T16:50:01.820077-08:00","updated_at":"2026-01-16T01:10:33.028015-08:00","closed_at":"2026-01-16T01:10:33.028015-08:00","close_reason":"Implemented voice commands with capture logic in handleDictationTurn","dependencies":[{"issue_id":"VoiceFlow-a00","depends_on_id":"VoiceFlow-9vj","type":"blocks","created_at":"2026-01-15T16:50:13.315604-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-a5x","title":"Review: Escape Mode \u0026 New Line Logic","description":"Review the 'say' prefix escape mode for literal dictation and the regex-based 'new line' replacement logic. Verify that 'say' correctly inhibits command processing.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T07:17:34.115121-08:00","updated_at":"2025-12-27T15:12:49.730207-08:00","closed_at":"2025-12-27T15:12:49.730209-08:00","labels":["needs-review","sleep-deprived"]}
{"id":"VoiceFlow-aeu","title":"Make mode switching shortcuts user-configurable","description":"Allow users to customize keyboard shortcuts for:\n- Off mode (currently Ctrl+Option+Cmd+0)\n- On mode (currently Ctrl+Option+Cmd+1)\n- Sleep mode (currently Ctrl+Option+Cmd+2)\n- Push-to-talk (when implemented)\n\nStore in UserDefaults and add UI in Settings.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-27T23:32:29.683161-08:00","updated_at":"2025-12-27T23:32:29.683161-08:00"}
{"id":"VoiceFlow-aqtl","title":"Pop-out command explorer panel for learning","description":"Create a detachable/pop-out panel that:\n- Shows all available voice commands\n- Can stay open persistently for learning purposes\n- Doesn't dismiss automatically\n- Could be a separate window or floating panel\n- Useful for new users to reference while learning the commands","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:27:30.844597-08:00","updated_at":"2026-01-16T01:27:30.844597-08:00"}
{"id":"VoiceFlow-aqx","title":"Add button in main panel to open Claude Code panel","description":"Add a clickable UI element in the main floating transcript panel that opens the Claude Code command panel. Could be a small icon/button in the header or a dedicated section.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-15T13:14:43.902315-08:00","updated_at":"2026-01-15T16:44:20.23899-08:00","closed_at":"2026-01-15T16:44:20.23899-08:00","close_reason":"Duplicate - covered by VoiceFlow-p25","labels":["command-agent"]}
{"id":"VoiceFlow-arn","title":"Add feedback when focus command cannot find an app","description":"Provide user-visible feedback for focus \u003capp\u003e when no running app matches, and mark focus as a command to avoid dictation leaks.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T11:04:39.431939-08:00","updated_at":"2025-12-30T11:04:57.128347-08:00","closed_at":"2025-12-30T11:04:57.128347-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-axm","title":"On/Off buttons require double-click to activate","description":"The On and Off mode buttons in the floating panel sometimes require clicking twice to activate. The Wake button works correctly on first click. Investigate click handling in ModeButton and mode switching logic in AppState.setMode().","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-27T00:50:34.721169-08:00","updated_at":"2025-12-27T07:17:13.576481-08:00","closed_at":"2025-12-27T10:00:00-08:00"}
{"id":"VoiceFlow-bd7","title":"Add dynamic 'press' shortcut command","description":"Support commands like 'press command x' and map modifiers/keys to CG events.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T16:10:49.714122-08:00","updated_at":"2026-01-06T16:10:59.633884-08:00","closed_at":"2026-01-06T16:10:59.633884-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-brc","title":"Implement AssemblyAI vocabulary \u0026 latency optimizations","description":"Implement AssemblyAI API optimizations based on research in docs/assemblyai-vocabulary-research.md. Key items: keyterms_prompt for custom vocabulary, mid-stream vocabulary updates, latency optimizations (format_turns=false, pre-emptive utterance processing), and configurable silence thresholds.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T03:56:22.488896-08:00","updated_at":"2025-12-27T15:08:29.085183-08:00","closed_at":"2025-12-27T15:08:29.085185-08:00"}
{"id":"VoiceFlow-brq","title":"Create native Swift macOS speech recognition app for RSI users","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-26T18:18:09.505667-08:00","updated_at":"2025-12-26T18:25:46.998223-08:00","closed_at":"2025-12-26T18:25:46.998223-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-bwg","title":"Add 'format this nicely' command for selected text","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-14T18:38:21.710091-08:00","updated_at":"2026-01-14T18:38:21.710091-08:00"}
{"id":"VoiceFlow-c6z","title":"Surface errors and warnings in UI","description":"Show warnings for missing API keys and permission issues in the main UI.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T19:41:41.231491-08:00","updated_at":"2025-12-29T19:45:28.902009-08:00","closed_at":"2025-12-29T19:45:28.902009-08:00","close_reason":"Implemented as requested.","labels":["UI","UX"]}
{"id":"VoiceFlow-cfh","title":"Fix Mac Speech offline connection state + latency warnings","description":"Make Apple Speech report connected state correctly, guard on speech permission, show offline/latency warnings and provider-specific placeholders; add ping latency monitoring for cloud providers.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T16:12:01.227614-08:00","updated_at":"2026-01-06T16:12:09.763007-08:00","closed_at":"2026-01-06T16:12:09.763007-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-cpa","title":"Add ability to rename speakers","description":"Allow users to rename speakers from S0, S1, etc. to meaningful names like 'Me', 'John', etc.\n\nDesign considerations:\n- Where to trigger rename? Click on speaker badge? Context menu?\n- Store mappings in UserDefaults per session or persistently?\n- Should names persist across app restarts?\n- UI: inline edit, popover, or settings panel?\n- Consider auto-detecting 'primary' speaker based on volume/frequency","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-31T21:41:15.081196-08:00","updated_at":"2025-12-31T21:41:25.282634-08:00"}
{"id":"VoiceFlow-cscv","title":"Command: Send last utterance to active app","description":"Add a voice command like 'send last utterance' or 'type that again' that re-sends the most recent utterance to the active application.\n\nRelated to VoiceFlow-7oag (sleep mode transfer) and VoiceFlow-kknw (utterance history buffer).\n\nUse cases:\n- Dictation didn't go where expected\n- Want to repeat something\n- Quick retry without re-speaking","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:11:08.78597-08:00","updated_at":"2026-01-16T01:11:08.78597-08:00"}
{"id":"VoiceFlow-ct2","title":"Live dictation spacing issues between utterances","description":"When live dictation mode is on, spaces are not correctly placed before/after utterances that have slight pauses. Need a smarter approach to handle utterance boundaries and spacing.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-27T22:03:59.421731-08:00","updated_at":"2025-12-27T22:14:35.907513-08:00","closed_at":"2025-12-27T22:14:35.907513-08:00","close_reason":"Fixed in commit a4bb595"}
{"id":"VoiceFlow-cut","title":"Audit force/send dictation behavior (should not trigger API error UI)","description":"Review forceEndUtterance and 'send/submit dictation' command flow; user expects simple paste behavior and reports Invalid API Key warning appearing when using it.","notes":"User wants force/send dictation to only type local buffer; no clipboard, no service force-end.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T11:46:56.119862-08:00","updated_at":"2025-12-30T11:53:44.649825-08:00","closed_at":"2025-12-30T11:53:44.649825-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-d1y0","title":"Add recognized command history to debug logs/panel","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T18:27:19.611922-08:00","updated_at":"2026-01-15T22:28:00.154366-08:00","closed_at":"2026-01-15T22:28:00.154366-08:00","close_reason":"Commands and keywords now logged to debug panel with emoji markers"}
{"id":"VoiceFlow-d9e","title":"Fix high network latency badge UX - prevent layout disruption","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-15T14:02:43.916049-08:00","updated_at":"2026-01-15T16:58:08.754166-08:00","closed_at":"2026-01-15T16:58:08.754166-08:00","close_reason":"Addressed by VoiceFlow-3pu: Warning banners now limited to 2 max with overflow indicator, maxHeight capped at 120px to prevent layout disruption."}
{"id":"VoiceFlow-diks","title":"Command: Save last N minutes of transcript","description":"Add a voice command to save a rolling transcript buffer, e.g.:\n- 'voiceflow save last minute'\n- 'voiceflow save last 5 minutes'\n- 'save transcript since [time]'\n\nUse cases:\n- Was dictating but in sleep mode - recover what was said\n- Want to capture a conversation that just happened\n- Retroactive note-taking without pre-planning\n\nImplementation:\n- Keep rolling buffer of transcript with timestamps\n- Command triggers save of specified time window\n- Save to ~/Documents/VoiceFlow/Transcripts/\n\nRelated to VoiceFlow-7oag (last utterance from sleep) but broader - captures arbitrary time windows.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:11:35.398841-08:00","updated_at":"2026-01-16T01:11:35.398841-08:00"}
{"id":"VoiceFlow-dl0o","title":"Command documentation page with action buttons and folder links","description":"Create a command documentation/help page that lists voice commands with:\n\n1. **Manual trigger button** - Click to execute the command without speaking\n2. **Folder link** - Opens the relevant directory in Finder (for commands that save files)\n\nExample entries:\n- 'voiceflow start recording' ‚Üí [‚ñ∂ Start] [üìÅ Open Recordings]\n- 'take a note' ‚Üí [üìù New Note] [üìÅ Open Notes]\n- 'show transcripts' ‚Üí [üìÑ View] [üìÅ Open Transcripts]\n\nThis makes commands discoverable and provides quick access to both triggering actions and viewing their output locations.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T00:51:13.136935-08:00","updated_at":"2026-01-16T00:51:13.136935-08:00"}
{"id":"VoiceFlow-dtb","title":"Implement Push-to-Talk mode","description":"Add a PTT mode with a global shortcut.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T19:41:35.995046-08:00","updated_at":"2025-12-29T19:45:28.900306-08:00","closed_at":"2025-12-29T19:45:28.900306-08:00","close_reason":"Implemented as requested.","labels":["Feature"]}
{"id":"VoiceFlow-dwp","title":"Create CommandMessage model and state properties","description":"Create the data model for chat messages and add required @Published properties to AppState.\n\nFiles:\n- Sources/Models/CommandMessage.swift (new)\n- Sources/Models/AppState.swift (modify)\n\nCommandMessage model:\n- id: UUID\n- role: enum (user/assistant/system)\n- content: String\n- timestamp: Date\n- toolUses: [ToolUse]? (for collapsible tool output)\n- isStreaming: Bool (for in-progress messages)\n\nToolUse model:\n- id: UUID\n- toolName: String\n- input: String?\n- output: String?\n- isExpanded: Bool\n\nAppState additions:\n- @Published var isCommandPanelVisible: Bool = false\n- @Published var commandMessages: [CommandMessage] = []\n- @Published var commandInput: String = \"\"\n- @Published var isClaudeProcessing: Bool = false\n- var claudeCodeService: ClaudeCodeService?","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T12:14:23.653789-08:00","updated_at":"2026-01-15T12:35:17.625904-08:00","closed_at":"2026-01-15T12:35:17.625904-08:00","close_reason":"Initial implementation complete","labels":["command-agent"]}
{"id":"VoiceFlow-dxy","title":"Network error message takes too much vertical space and needs refresh/reconnect","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T14:18:24.381801-07:00","updated_at":"2026-01-14T18:38:10.260898-08:00","closed_at":"2026-01-14T18:38:10.260898-08:00","close_reason":"Made error UI compact with reconnect/dismiss buttons"}
{"id":"VoiceFlow-e3g","title":"Floating panel requires multiple clicks after app deactivates","description":"After clicking in another app, the floating panel often requires multiple clicks for Off/On/Wake to register. Likely due to accessory/LSUIElement + SwiftUI WindowGroup not accepting first mouse consistently. Consider replacing with custom non-activating NSPanel (acceptsFirstMouse, becomesKeyOnlyIfNeeded) and ensure click behavior is reliable.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-27T05:12:04.627225-08:00","updated_at":"2025-12-27T07:17:13.577082-08:00","closed_at":"2025-12-27T10:00:00-08:00"}
{"id":"VoiceFlow-e6w","title":"Implement push-to-talk with global hotkeys","description":"Add push-to-talk functionality with global hotkeys:\n- Function key (fn) as PTT trigger\n- Option+Space as alternative\n- User-configurable shortcuts in settings\n- Need to avoid conflicts with common macOS shortcuts\n\nResearch needed:\n- Check for conflicts with Raycast, Alfred, etc.\n- Use NSEvent.addGlobalMonitorForEvents (requires accessibility permission)\n- Consider using a library like HotKey or MASShortcut","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-27T23:32:28.603924-08:00","updated_at":"2026-01-14T20:07:28.505635-08:00","closed_at":"2026-01-14T20:07:28.505635-08:00","close_reason":"Duplicate of VoiceFlow-emf - PTT already implemented with Ctrl+Option+Space"}
{"id":"VoiceFlow-e9rz","title":"Command panel input should always be typeable, even during processing","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T18:28:31.82906-08:00","updated_at":"2026-01-15T21:46:58.568356-08:00","closed_at":"2026-01-15T21:46:58.568356-08:00","close_reason":"Already implemented - input field is always enabled, messages queue during processing"}
{"id":"VoiceFlow-egd","title":"Dev chrome should show only DEV tag (no border)","description":"Remove the full orange debug border around the floating panel in dev builds; keep only the small DEV tag.","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-27T05:12:20.542638-08:00","updated_at":"2025-12-27T06:31:04.612074-08:00","closed_at":"2025-12-27T06:31:04.612074-08:00","close_reason":"Removed dev border; DEV tag only"}
{"id":"VoiceFlow-ekf","title":"Implement Turn-based command parsing","description":"Parse Turn payloads, use word-span dedupe for chaining, and update defaults to multi-word phrases.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T21:14:28.75576-08:00","updated_at":"2025-12-26T21:14:40.964279-08:00","closed_at":"2025-12-26T21:14:40.964279-08:00","close_reason":"Turn-based parsing and chaining support implemented"}
{"id":"VoiceFlow-el8","title":"Global Shortcut: Paste Last Utterance","description":"Implement Ctrl+Cmd+V to paste the last utterance text.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T19:41:30.714319-08:00","updated_at":"2025-12-29T19:45:28.898338-08:00","closed_at":"2025-12-29T19:45:28.898338-08:00","close_reason":"Implemented as requested.","labels":["Feature"]}
{"id":"VoiceFlow-elu","title":"Show feedback when special keywords are applied","description":"When dictation keywords like 'new line'/'say'/'spacebar' are applied, show a non-command feedback pill so users know a keyword fired.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T11:34:42.006207-08:00","updated_at":"2025-12-30T11:45:11.934758-08:00","closed_at":"2025-12-30T11:45:11.934758-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-emf","title":"Push-to-talk button","description":"Add physical keyboard shortcut for push-to-talk mode as alternative to always-listening","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T23:44:43.468672-08:00","updated_at":"2026-01-14T19:07:16.631876-08:00","closed_at":"2026-01-14T19:07:16.631876-08:00","close_reason":"Already implemented - Ctrl+Option+Space default, configurable in Settings \u003e General \u003e Push-to-Talk","labels":["backlog"]}
{"id":"VoiceFlow-eqa","title":"Implement per-command pause requirements","description":"Voice commands like 'undo that' are being triggered too aggressively in the middle of sentences. Added a 'requiresPause' property to VoiceCommand to only trigger them at the end of a turn or with a delay.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T02:04:12.520699-08:00","updated_at":"2025-12-29T19:45:10.160863-08:00","closed_at":"2025-12-29T19:45:10.160863-08:00","close_reason":"Added history icon, compact volume, paste shortcut, PTT mode, error surfacing, and shortcut help.","labels":["Logic","UI"]}
{"id":"VoiceFlow-er4","title":"Show voice command hints in mode dropdown","description":"Add hints like 'speech on', 'speech off', 'microphone off' next to the mode options in the dropdown","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T21:55:58.020129-08:00","updated_at":"2025-12-31T21:57:43.895751-08:00","closed_at":"2025-12-31T21:57:43.895751-08:00","close_reason":"Added voiceCommandHint property to MicrophoneMode and display in dropdown menu"}
{"id":"VoiceFlow-f0d","title":"Newline/enter at end of utterance not triggering submission","description":"When saying 'newline' or 'press enter' at the end of an utterance to submit (e.g., in Claude Code), it often doesn't work - possibly due to timing/race condition.\n\n## Symptoms\n- User says text followed by \"press enter\" or \"newline\"\n- The enter keystroke doesn't get sent or gets lost\n- May be related to utterance end timing\n\n## Potential Solutions\n- Add slight delay before processing end-of-utterance commands\n- Ensure keyboard events are sent after text is fully typed\n- Consider a \"submit mode\" that automatically sends enter after each utterance","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-13T12:39:08.293982-07:00","updated_at":"2026-01-13T12:39:08.293982-07:00"}
{"id":"VoiceFlow-ff47","title":"Design: Copy multiple messages from command panel chat","description":"Make it easier to select and copy multiple messages from the Claude Code command panel.\n\nFeatures to consider:\n- Select across multiple chat bubbles (both user and assistant messages)\n- Copy buttons on individual messages or selection\n- 'Copy conversation' or 'Copy last N messages' commands\n- Markdown vs plain text export options\n- Keyboard shortcuts for quick copy\n\nCurrent pain point: Hard to copy out multiple exchanges from the chat UI.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-16T01:11:25.880247-08:00","updated_at":"2026-01-16T01:11:25.880247-08:00"}
{"id":"VoiceFlow-fpg1","title":"Add project context panel with directory/project awareness","description":"Add collapsible context panel showing:\n- Current project (distinct from working directory)\n- Warning when discussing different project than current dir\n- Which project tickets would be created for\n- Maybe inject system prompt telling Claude which project panel belongs to\n\nQuestions: Should context persist across sessions? Should user be able to manually set project context?","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-15T23:43:04.936737-08:00","updated_at":"2026-01-15T23:43:19.074832-08:00","dependencies":[{"issue_id":"VoiceFlow-fpg1","depends_on_id":"VoiceFlow-yce8","type":"blocks","created_at":"2026-01-15T23:44:44.268787-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-gdkb","title":"Feature: Rolling audio buffer with retroactive save","description":"Keep a rolling buffer of raw audio that can be saved retroactively.\n\nFeatures:\n- Configurable buffer duration (e.g., last 1-5 minutes)\n- 'voiceflow save last minute of audio' command\n- Default OFF (privacy/storage concerns)\n- Optional: only buffer during push-to-talk mode\n- Optional: auto-save under certain conditions (user-configurable)\n\nUse cases:\n- Said something important but wasn't recording\n- Want audio proof/reference of what was said\n- Debugging transcription accuracy\n\nRelated to VoiceFlow-43i (save raw audio recordings) but focuses on retroactive capture from a rolling buffer rather than explicit recording sessions.\n\nPrivacy considerations:\n- Clear indication when buffering is active\n- Easy way to flush/clear buffer\n- Configurable retention policy","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:11:45.018322-08:00","updated_at":"2026-01-16T01:11:45.018322-08:00"}
{"id":"VoiceFlow-geb","title":"Command panel lacks session persistence - each message starts fresh Claude instance","description":"## Problem\nThe command panel shows conversation history in the UI, but each message is sent to a **new Claude instance** that has no memory of previous messages. This is confusing because the UI suggests a continuous conversation.\n\n## Evidence\nScreenshot shows:\n- User had earlier conversation about tickets\n- User says \"continue with my earlier request\"\n- Claude responds: \"I don't see a previous request to continue. The session appears to have just started\"\n- Claude confirms the first message in its context is the current message\n\n## Root Cause\nClaudeCodeService uses `--print` mode which spawns a new process for each message:\n- send() calls stop() then start() for each message\n- No session ID or resume capability\n- No conversation history passed to Claude\n\n## Possible Solutions\n1. **Session persistence**: Use `--resume \u003csession-id\u003e` to continue conversations\n2. **Context injection**: Pass recent message history as context with each new message\n3. **Long-running process**: Keep Claude running instead of --print mode (requires different API)\n4. **Hybrid**: Use --print but prepend conversation summary/context\n\n## User Expectation\nIf the UI shows a chat history, Claude should remember it.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-15T18:17:16.213571-08:00","updated_at":"2026-01-15T21:50:58.637189-08:00","closed_at":"2026-01-15T21:50:58.637189-08:00","close_reason":"Fixed: Pass conversation history as context with each message to Claude"}
{"id":"VoiceFlow-gh7","title":"Handle split-word artifacts across utterances (cond. / Ense)","description":"Review needed: decide heuristic for merging split words across lines/utterances.\n\nInvestigate ASR/formatter splitting words across lines/utterances (e.g., 'cond.\\nEnse') and add post-processing to merge when appropriate.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T14:32:18.726929-08:00","updated_at":"2026-01-06T16:16:53.947454-08:00"}
{"id":"VoiceFlow-gnbd","title":"One-shot dictation from Sleep: 'type' and 'sentence' commands","description":"Add one-shot dictation commands that work from Sleep mode, type text to active window, then auto-return to Sleep.\n\n## Commands\n\n| Trigger | Example | Output | Then |\n|---------|---------|--------|------|\n| **type \u003cphrase\u003e** | \"type hello world\" | hello world | ‚Üí Sleep |\n| **sentence \u003cphrase\u003e** | \"sentence hello world\" | Hello world. | ‚Üí Sleep |\n\n## Behavior\n\n1. Activated from Sleep mode only (wake commands already handle On mode)\n2. Captures everything after trigger word as the phrase\n3. Types to active window (using existing typeText mechanism)\n4. \"sentence\" capitalizes first letter and appends period\n5. Returns to Sleep mode after typing\n\n## Design notes\n\n- Follows Talon Voice pattern (\"say\" = literal escape, \"phrase/sentence\" = one-shot dictation)\n- \"say\" remains literal escape in On mode (existing behavior)\n- Ends on natural utterance boundary (no explicit terminator needed for v1)\n- Future: could add \"over\" terminator like Talon's \"phrase X over\" for explicit end\n\n## Research\n\n- Talon: \"say \u003cphrase\u003e\" and \"sentence \u003cphrase\u003e\" for one-shot\n- Dragon: No built-in one-shot, only wake/sleep toggle\n- VoiceFlow \"say\" already used for literal escape (matches Talon)","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-15T23:16:32.548515-08:00","updated_at":"2026-01-15T23:16:32.548515-08:00"}
{"id":"VoiceFlow-gqb","title":"Add speaker detection/diarization feature","description":"Implement optional speaker diarization for AssemblyAI. Currently disabled due to latency impact - needs UI toggle and proper handling.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-31T21:55:45.113209-08:00","updated_at":"2025-12-31T21:55:45.113209-08:00"}
{"id":"VoiceFlow-h1v","title":"Auto-focus command panel on 'command open'","description":"When user says 'command open', the panel should automatically receive keyboard focus so they can start typing immediately. Currently the panel opens but may not be focused.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-15T12:56:48.63655-08:00","updated_at":"2026-01-15T12:59:32.923773-08:00","closed_at":"2026-01-15T12:59:32.923773-08:00","close_reason":"Fixed by adding NSApp.activate and notification-based input focus","labels":["command-agent"]}
{"id":"VoiceFlow-h9o","title":"Add debug panel for Claude Code integration","description":"Add a debug view/panel that shows:\n- Raw stdout/stderr from Claude process\n- JSON events as they're parsed  \n- Process state (running, PID, etc.)\n- Message queue state\n- Connection status details\n\nCould be a collapsible section in the command panel or a separate debug window accessible from settings. Essential for diagnosing issues like 'stuck on Thinking...' states.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T13:04:33.706449-08:00","updated_at":"2026-01-15T13:11:07.7132-08:00","closed_at":"2026-01-15T13:11:07.7132-08:00","close_reason":"Closed","labels":["command-agent"]}
{"id":"VoiceFlow-hc1","title":"Fix command handling so recognized commands don't get pasted","description":"Ensure command-only utterances (e.g., 'window recent') are consumed and not inserted as dictation, including in undo/focus flows.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T10:58:54.477961-08:00","updated_at":"2025-12-30T11:01:52.407153-08:00","closed_at":"2025-12-30T11:01:52.407153-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-hel","title":"Investigate command text being inserted during command execution","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T10:58:43.353062-08:00","updated_at":"2025-12-30T11:01:41.332003-08:00","closed_at":"2025-12-30T11:01:41.332003-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-hfn","title":"Map design doc to code updates for Turn handling","description":"Review code vs updated design doc; propose concrete implementation changes for AssemblyAI v3 Turn semantics, dedupe, and formatted Turn handling.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T19:42:57.88065-08:00","updated_at":"2025-12-26T21:12:51.918495-08:00","closed_at":"2025-12-26T21:12:51.918495-08:00","close_reason":"Implemented Turn-based parsing, dedupe, and command chaining support"}
{"id":"VoiceFlow-hki","title":"Create CommandPanelView SwiftUI interface","description":"Create the main chat UI for the command panel.\n\nFile: Sources/Views/CommandPanelView.swift\n\nLayout (top to bottom):\n1. **Header bar**\n   - Working directory indicator: '~/ai-os' with folder icon\n   - Connection status indicator (green dot when connected)\n   - Close button (X)\n\n2. **Message list** (ScrollViewReader)\n   - Auto-scroll to bottom on new messages\n   - User messages: right-aligned, accent color background\n   - Assistant messages: left-aligned, subtle background\n   - Tool use blocks: collapsible with chevron, monospace output\n   - Timestamps (subtle, optional)\n\n3. **Input area**\n   - TextField with placeholder 'Ask Claude...'\n   - Send button (arrow.up.circle.fill)\n   - Enter to send\n   - Disabled while no connection\n\nComponents:\n- MessageBubbleView: renders single message\n- ToolUseView: collapsible tool use block\n- TypingIndicatorView: animated dots while processing\n\nStyling:\n- Match FloatingPanelView aesthetic\n- SF Symbols throughout\n- Support dark/light mode\n- Subtle animations for message appearance","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T12:14:27.630325-08:00","updated_at":"2026-01-15T12:35:17.63455-08:00","closed_at":"2026-01-15T12:35:17.63455-08:00","close_reason":"Initial implementation complete","labels":["command-agent"],"dependencies":[{"issue_id":"VoiceFlow-hki","depends_on_id":"VoiceFlow-dwp","type":"blocks","created_at":"2026-01-15T12:14:43.542682-08:00","created_by":"daemon"},{"issue_id":"VoiceFlow-hki","depends_on_id":"VoiceFlow-3z1","type":"blocks","created_at":"2026-01-15T12:14:43.854011-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-hpa6","title":"Improve Settings search UX - better visibility and coverage","description":"## Current Issues\n\n1. **Missing text coverage**: Search misses some text in the General tab (and possibly other tabs)\n2. **Context visibility**: When a search result is found, you can't immediately see the corresponding value/control - just the label\n3. **Navigation**: Clicking a result takes you to the tab but doesn't highlight or scroll to the actual setting\n\n## Desired UX\n\n- **Full text indexing**: Search should find ALL visible text - labels, descriptions, current values, option names\n- **Result preview**: Show what tab it's in AND a preview of the current value/state\n- **Visual highlighting**: When navigating to a result, highlight or scroll to the actual control\n- **Keyboard navigation**: Arrow keys to navigate results, Enter to jump to setting\n\n## Implementation Ideas\n\n1. Build a proper search index on view load that captures all text content\n2. Add highlighting overlay or background flash when jumping to a setting\n3. Consider grouping results by tab with clear visual hierarchy\n4. Maybe add recently changed settings or 'popular' settings quick access\n\n## Reference\n\nLook at how macOS System Settings and VS Code settings search work - both provide good examples of searchable settings UX.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T00:04:21.48527-08:00","updated_at":"2026-01-16T00:04:32.972977-08:00"}
{"id":"VoiceFlow-hqt","title":"Implement offline fallback to Mac speech model","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T14:19:17.769357-08:00","updated_at":"2025-12-27T14:19:26.537202-08:00","closed_at":"2025-12-27T14:19:26.537212-08:00"}
{"id":"VoiceFlow-i3t","title":"Investigate 'say' literal mode failures (e.g., 'say newline')","description":"## Root Cause Found\n\nWhen utterances combine mode commands with \"say\" escape:\n- \"speech on say press enter\" ‚Üí \"say\" is not at start ‚Üí escape fails\n- \"say press enter\" (alone) ‚Üí works correctly\n\nThe issue is \"say\" must be at transcript START to trigger escape.\n\n## Fix Needed\n\nAfter stripping wake/mode commands from the transcript beginning, check if the REMAINING text starts with \"say\" and treat it as literal.\n\nExample flow:\n1. \"speech on say press enter\" arrives\n2. \"speech on\" is detected and processed as mode switch\n3. Remaining \"say press enter\" should be checked for \"say\" prefix\n4. If found, escape the rest (\"press enter\" ‚Üí literal text)\n\n## Related\n- VoiceFlow-f0d: Newline/enter at end of utterance","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T14:31:56.852379-08:00","updated_at":"2026-01-13T13:43:40.559417-07:00","closed_at":"2026-01-13T13:43:40.559417-07:00","close_reason":"Fixed: processInlineReplacements was stripping command phrases like 'press enter' even in literal mode. Added if \\!isLiteral check. Codex MCP found this bug instantly."}
{"id":"VoiceFlow-ihq9","title":"Letter compression/missing letters in IdeaFlow and some text editors","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-15T18:37:47.233873-08:00","updated_at":"2026-01-15T18:37:47.233873-08:00"}
{"id":"VoiceFlow-ii6y","title":"VoiceFlow Issues panel - voice command to view/add beads tickets","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T18:24:59.904737-08:00","updated_at":"2026-01-16T00:24:57.27614-08:00","closed_at":"2026-01-16T00:24:57.27614-08:00","close_reason":"Implemented voice commands: 'voiceflow issue', 'make an issue for voiceflow', etc. Opens command panel and sends to Claude Code to create the beads issue.","dependencies":[{"issue_id":"VoiceFlow-ii6y","depends_on_id":"VoiceFlow-yce8","type":"blocks","created_at":"2026-01-15T23:44:44.00185-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-ilhp","title":"Add live dictation and AI formatter toggles to dropdown menu","description":"Add quick-access toggles to the floating panel dropdown menu:\n\n**Toggles to add:**\n1. **Live dictation mode** - Toggle between live typing vs buffer-then-transfer\n2. **AI auto-formatter** - Enable/disable AI formatting of dictated text\n\n**Current state:**\n- These settings exist but are buried in Settings\n- Would be useful to toggle quickly from the main panel\n\n**Questions:**\n- Is the AI formatter currently working? Need to verify\n- What's the current UI for these in Settings?\n- Should show current state (checkmark or toggle style)\n\n**Implementation:**\n- Add to the '...' menu in FloatingPanelView\n- Use Toggle or checkmark menu items\n- Bind to existing AppState properties","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T00:25:51.787404-08:00","updated_at":"2026-01-16T00:25:51.787404-08:00"}
{"id":"VoiceFlow-inaw","title":"Fix force send dictation button - doesn't send temp input box content","description":"The 'force send current dictation' button doesn't actually work. Should send everything in the temporary dictation input box.\n\n**Current behavior:**\n- Button exists but doesn't send the buffered text\n- Temporary dictation input box content is ignored\n\n**Expected behavior:**\n- Clicking force send should transfer all text in the temp input buffer\n- Same as what 'submit dictation' voice command should do\n\n**Related code to check:**\n- forceEndUtterance() in AppState\n- 'submit dictation' / 'send dictation' voice commands\n- Temporary dictation buffer handling\n\n**Voice commands that should trigger this:**\n- 'submit dictation'\n- 'send dictation'\n- 'submit'\n\nNeed to trace why the temp buffer content isn't being sent.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-16T00:31:34.787249-08:00","updated_at":"2026-01-16T00:31:34.787249-08:00"}
{"id":"VoiceFlow-jhh","title":"Mode buttons not clickable in floating panel","description":"The mode buttons (Off, On, Wake) in the floating panel UI are not responding to clicks. The PanelWindowConfigurator overlay NSView may be intercepting mouse events. Fix attempted: PassThroughView with hitTest returning nil.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-27T00:10:22.44981-08:00","updated_at":"2025-12-27T07:17:13.577608-08:00","closed_at":"2025-12-27T10:00:00-08:00"}
{"id":"VoiceFlow-jsi","title":"Add voice command detection for wake mode","description":"Detect wake word to activate, support basic commands like pause/resume","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T18:18:36.430533-08:00","updated_at":"2025-12-26T18:25:10.338388-08:00","closed_at":"2025-12-26T18:25:10.338388-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-jw6","title":"Command panel: Input field disabled after response due to connection state","description":"Root cause of focus issue: TextField.disabled(!appState.isClaudeConnected) at line 208. In --print mode, process exits after each response, setting isClaudeConnected=false, which disables the input field. Fix: Remove connection requirement from disabled modifier - only disable during processing. Also affects canSend check at line 234 and sendMessage guard at line 252.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-15T16:52:30.895231-08:00","updated_at":"2026-01-15T16:55:41.657312-08:00","closed_at":"2026-01-15T16:55:41.657312-08:00","close_reason":"Removed connection requirement from TextField disabled modifier. Only disable during processing now. Also updated canSend and sendMessage to not require connection."}
{"id":"VoiceFlow-k3dr","title":"Clearly separate tool use outputs from text in command panel","description":"Tool use outputs and text responses need clearer separation in the command panel UI.\n\n**Current state:**\n- Tool uses show in collapsible orange boxes (ToolUseView)\n- But mixing with streamed text can be confusing\n- Hard to tell what's a tool result vs Claude's commentary\n\n**Design considerations to think through:**\n\n1. **Information hierarchy**\n   - What does the user care about most? (Result text vs tool details)\n   - Should tools be prominent or tucked away?\n   - Progressive disclosure: summary vs full output\n\n2. **Visual language**\n   - How do other IDEs/tools show this? (VS Code Copilot, Cursor, etc.)\n   - Color coding: tools vs text vs errors\n   - Icons and indicators\n\n3. **Interleaving challenges**\n   - Claude often explains what it's doing THEN does it\n   - Or does something THEN explains\n   - Need to handle: text ‚Üí tool ‚Üí text ‚Üí tool ‚Üí text\n\n4. **Collapsed vs expanded defaults**\n   - Should tools start collapsed or expanded?\n   - Auto-collapse after completion?\n   - Keep last tool expanded?\n\n5. **Long outputs**\n   - Tool outputs can be huge (file contents, grep results)\n   - Truncation with 'show more'\n   - Syntax highlighting for code\n\n**Options to explore:**\n1. Horizontal dividers between tool blocks and text\n2. Different background sections (terminal-style for tools, chat-style for text)\n3. Collapsible 'Tool Activity' section grouping all tool calls\n4. Timeline/sidebar showing tool sequence\n5. 'Compact mode' showing just tool names, expandable for details\n\n**Research:**\n- Look at how Claude.ai web shows tool use\n- Look at Cursor's tool output UI\n- Look at GitHub Copilot chat","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T00:24:51.452015-08:00","updated_at":"2026-01-16T00:25:05.203656-08:00"}
{"id":"VoiceFlow-k3w","title":"Add FluidAudio Parakeet as offline ASR option","description":"## Research Summary\n\nNVIDIA's Parakeet ASR models can run on-device via **FluidAudio** (Swift package that converts them to CoreML for Apple Neural Engine).\n\n### Available Models via FluidAudio\n\n| Model | Size | Languages | Best For |\n|-------|------|-----------|----------|\n| parakeet-eou-160 | ~250MB | English | Streaming with EOU detection (lowest latency) |\n| parakeet-tdt-0.6b-v2 | ~600MB | English | Highest English accuracy (6.05% WER) |\n| parakeet-tdt-0.6b-v3 | ~600MB | 25 languages | Multilingual support |\n\n### Reference Implementation\n\nYappatron already uses FluidAudio's Parakeet EOU 120M model - see `/Users/jacobcole/code/yappatron/packages/app/Yappatron/Sources/TranscriptionEngine.swift` for working code.\n\nKey components:\n- `StreamingEouAsrManager` - handles streaming ASR with end-of-utterance detection\n- 160ms audio chunks for low latency\n- Configurable EOU debounce (silence threshold)\n- Partial + final transcription callbacks\n- 16kHz mono Float32 audio format\n\n### Integration Approach\n\n1. Add FluidAudio SPM dependency: `https://github.com/FluidInference/FluidAudio.git`\n2. Create `FluidAudioService.swift` following the existing service pattern (like AppleSpeechService)\n3. Add `DictationProvider.fluidAudio` or `.parakeet` enum case\n4. Wire up audio capture (already 16kHz mono in AudioCaptureManager - may need Float32 conversion)\n5. Add model download on first use (via `DownloadUtils.loadModels`)\n\n### Considerations\n\n- Models are CC-BY-4.0 licensed (commercial use OK)\n- ~250-600MB download on first use\n- Requires macOS 14.0+ / iOS 17.0+\n- Uses Neural Engine (power efficient)\n- Potentially better accuracy than Apple Speech for dictation\n\n### Sources\n- https://github.com/FluidInference/FluidAudio\n- https://huggingface.co/nvidia/parakeet-tdt-0.6b-v3\n- https://developer.nvidia.com/blog/pushing-the-boundaries-of-speech-recognition-with-nemo-parakeet-asr-models/","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-08T22:35:55.261731-07:00","updated_at":"2026-01-08T22:36:28.978111-07:00"}
{"id":"VoiceFlow-ke3","title":"DEV badge wraps vertically when window is narrow","description":"When the floating panel is narrow, the 'DEV' text wraps vertically and looks bad. Should show just 'D' or hide entirely when space is tight.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-13T12:34:41.011605-07:00","updated_at":"2026-01-14T18:35:52.260204-08:00","closed_at":"2026-01-14T18:35:52.260204-08:00","close_reason":"Fixed with .fixedSize() modifier"}
{"id":"VoiceFlow-kigg","title":"Scroll position resets to bottom on new utterance - should stay in place","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-15T18:37:46.813408-08:00","updated_at":"2026-01-15T18:51:09.556035-08:00","closed_at":"2026-01-15T18:51:09.556035-08:00","close_reason":"Fixed: Added simultaneousGesture to detect user scroll and disable auto-scroll"}
{"id":"VoiceFlow-kknw","title":"Utterance history buffer - access multiple past utterances","description":"Extend the sleep-mode transfer feature to support multiple past utterances.\n\n**Use cases:**\n- 'transfer last two' - type last 2 utterances\n- 'what did I say' - show recent utterances in UI for selection\n- 'transfer sentence before that' - skip most recent, get prior one\n\n**Design questions:**\n- How many utterances to buffer? 5? 10? Time-based (last 2 minutes)?\n- Buffer in all modes or just sleep mode?\n- How to handle pauses/segmentation - what counts as one 'utterance'?\n- UI for browsing history vs voice-only access?\n- Should this integrate with the existing transcript view somehow?\n\n**Related:**\n- VoiceFlow-7oag: Transfer last utterance (simpler version)\n- Could reuse FocusContextManager's segment tracking?","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-16T00:02:01.638112-08:00","updated_at":"2026-01-16T00:02:01.638112-08:00","dependencies":[{"issue_id":"VoiceFlow-kknw","depends_on_id":"VoiceFlow-7oag","type":"blocks","created_at":"2026-01-16T00:02:07.558735-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-l71","title":"Add stop button to cancel running Claude Code request","description":"Add a stop/cancel button to the command panel that allows the user to interrupt a running Claude Code request. Should send SIGINT or close stdin to stop the current operation. Button should appear when isClaudeProcessing is true, replacing or next to the send button.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T13:03:26.889502-08:00","updated_at":"2026-01-15T13:11:07.708611-08:00","closed_at":"2026-01-15T13:11:07.708611-08:00","close_reason":"Closed","labels":["command-agent"]}
{"id":"VoiceFlow-luv","title":"Add tab new alias + command flush delay","description":"Support 'tab new' command and delay command execution briefly after dictation flush to avoid racing typed text.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T16:11:29.967463-08:00","updated_at":"2026-01-06T16:11:52.16536-08:00","closed_at":"2026-01-06T16:11:52.16536-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-m4gu","title":"Design clear chat behavior - visual vs session reset","description":"Add clear chat button. Need to decide behavior:\n\nOption A: Visual only - clears UI but keeps session context (like scrolling chat away)\nOption B: Full reset - kills Claude process and clears conversation history\nOption C: Hybrid - sends 'forget above, fresh start' to Claude but keeps process\n\nConsiderations:\n- Visual-only is simpler but confusing if AI references old messages\n- Full reset loses valuable context but gives clean slate\n- Hybrid might not work well with Claude's context handling","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-15T23:43:06.293867-08:00","updated_at":"2026-01-15T23:43:20.117922-08:00"}
{"id":"VoiceFlow-mra","title":"Add 'voiceflow start/stop recording' voice command","description":"Voice command to record audio to timestamped files. 'voiceflow start recording' begins capturing audio, 'voiceflow stop recording' saves to recordings/YYYY-MM-DD_HH-MM-SS.wav. Requires audio buffer management to capture raw audio alongside ASR stream.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T16:49:58.439423-08:00","updated_at":"2026-01-15T18:23:29.973122-08:00","closed_at":"2026-01-15T18:23:29.973122-08:00","close_reason":"Implemented voiceflow start/stop recording voice commands with audio buffering, WAV file creation, and visual indicator","dependencies":[{"issue_id":"VoiceFlow-mra","depends_on_id":"VoiceFlow-9vj","type":"blocks","created_at":"2026-01-15T16:50:12.518191-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-n7n","title":"Live dictation with delta tracking","description":"Type finalized words incrementally using word_is_final, with optional setting and proper spacing.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T22:23:33.518906-08:00","updated_at":"2025-12-26T22:31:48.209875-08:00","closed_at":"2025-12-26T22:31:48.209875-08:00","close_reason":"Live dictation with delta tracking implemented"}
{"id":"VoiceFlow-ne1d","title":"Add ClaudeResponsePhase enum and state tracking","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-15T22:20:44.742731-08:00","updated_at":"2026-01-15T22:20:44.742731-08:00","dependencies":[{"issue_id":"VoiceFlow-ne1d","depends_on_id":"VoiceFlow-3ksx","type":"blocks","created_at":"2026-01-15T22:20:53.559998-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-nec","title":"Fix floating panel visibility toggling","description":"Ensure panel window is created/shown at launch and menu toggle reflects state.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T22:39:54.929374-08:00","updated_at":"2025-12-26T22:40:33.848383-08:00","closed_at":"2025-12-26T22:40:33.848383-08:00","close_reason":"Panel window now created on launch and menu toggle updates state"}
{"id":"VoiceFlow-nfcx","title":"PTT key types through to app (backslash example)","description":"## Problem\nWhen using backslash (or potentially other keys) as the Push-to-Talk button, the key event is not being consumed/captured - it passes through to the active application and types the character.\n\n## Expected Behavior\nPTT key should be captured at the event monitor level and NOT forwarded to applications.\n\n## Current Behavior\nSetting backslash as PTT results in many backslashes being typed while holding the key.\n\n## Technical Notes\nThe PTT key handler likely needs to:\n1. Use `CGEvent.tapCreate` with `.cgSessionEventTap` to intercept before apps see it\n2. Return `nil` from the tap callback to consume the event\n3. Or use `NSEvent.addGlobalMonitorForEvents` but this doesn't allow consuming\n\nStandard approach: Use a CGEventTap that can modify/suppress events, not just monitor them.\n\n## References\n- Similar issue in Talon/Dragon where modifier keys are preferred for PTT because they don't type\n- macOS requires accessibility permissions to consume keyboard events","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-15T23:31:16.662834-08:00","updated_at":"2026-01-15T23:38:52.428526-08:00","closed_at":"2026-01-15T23:38:52.428526-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-o8b","title":"Copy button behavior unclear/broken","description":"Copy button is inconsistent - unclear when it shows up","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-31T21:55:31.436895-08:00","updated_at":"2025-12-31T21:57:42.150203-08:00","closed_at":"2025-12-31T21:57:42.150203-08:00","close_reason":"Fixed copy button to show when any content exists (recentTurns or currentTranscript) and copies all visible text"}
{"id":"VoiceFlow-oak","title":"Add 'voiceflow start/stop transcribing' voice command","description":"Voice command to transcribe speech to timestamped text files. 'voiceflow start transcribing' begins capturing transcription, 'voiceflow stop transcribing' saves to transcripts/YYYY-MM-DD_HH-MM-SS.txt. Optionally saves audio file too (configurable).","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T16:49:59.589516-08:00","updated_at":"2026-01-16T01:10:33.135453-08:00","closed_at":"2026-01-16T01:10:33.135453-08:00","close_reason":"Implemented voice commands with capture logic in handleDictationTurn","dependencies":[{"issue_id":"VoiceFlow-oak","depends_on_id":"VoiceFlow-9vj","type":"blocks","created_at":"2026-01-15T16:50:12.7705-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-od0q","title":"Add stop recording button for voiceflow start rec","description":"When audio recording is active via 'voiceflow start rec', there needs to be a visible stop button in the UI to end the recording.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T00:49:31.38177-08:00","updated_at":"2026-01-16T00:49:31.38177-08:00"}
{"id":"VoiceFlow-oqh","title":"Research Utter Command vocab + add missing commands (e.g., window close) and doc ordering","description":"Review needed: confirm Utter Command vocabulary sources + preferred command order.\n\nFind the official Utter Command vocabulary list, identify missing commands (e.g., window close), implement them, and document preferred command order.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T14:31:13.456028-08:00","updated_at":"2026-01-06T16:16:26.82893-08:00"}
{"id":"VoiceFlow-p0a","title":"Review: Debug Log \u0026 Settings Integration","description":"Review the new Debug tab in Settings and the live logging of events (commands, errors, typing, connections). Verify log clearing and retention logic.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T07:17:44.585651-08:00","updated_at":"2026-01-15T17:19:24.553446-08:00","closed_at":"2026-01-15T17:19:24.553446-08:00","close_reason":"Feature reviewed and working - Debug tab in Settings provides live logging","labels":["needs-review","sleep-deprived"]}
{"id":"VoiceFlow-p15","title":"Expand focus to windows/tabs (app + tab manager)","description":"Review needed: define focus scope and matching for windows/tabs.\n\nSupport focusing specific windows/tabs (e.g., Chrome tabs) beyond app-level focus; design matching rules and UX.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T14:32:32.02342-08:00","updated_at":"2026-01-06T16:16:59.221096-08:00"}
{"id":"VoiceFlow-p25","title":"Add button in top bar to open Claude Command panel","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T16:39:03.264166-08:00","updated_at":"2026-01-15T16:44:18.867515-08:00","closed_at":"2026-01-15T16:44:18.867515-08:00","close_reason":"Added terminal icon button in top bar utility section that toggles command panel, with accent color when active"}
{"id":"VoiceFlow-p6h6","title":"Design: Multi-line selection in temporary output panel","description":"Design and implement a way to select multiple lines of text in a temporary output panel.\n\nUse cases:\n- Review recent dictation before sending\n- Select portions of transcribed text\n- Quick edit/copy workflow\n\nQuestions to explore:\n- Should this be a new panel or integrated into existing UI?\n- How does selection interact with send/copy actions?\n- Keyboard vs mouse selection?","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-16T01:11:16.608097-08:00","updated_at":"2026-01-16T01:11:16.608097-08:00"}
{"id":"VoiceFlow-p7v","title":"Feature: Voice-Activated App Focusing","description":"Research and implement a way to focus specific applications by voice (e.g., 'focus Chrome'). Technical path: Use NSWorkspace.shared.runningApplications to list apps and NSRunningApplication.activate() to bring them to front. Needs fuzzy matching for spoken app names.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T07:38:48.648489-08:00","updated_at":"2025-12-27T15:09:50.855623-08:00","closed_at":"2025-12-27T15:09:50.855625-08:00","labels":["backlog","needs-design"]}
{"id":"VoiceFlow-plw","title":"PTT release should wait for finalized text before sending","description":"When releasing the push-to-talk key (Ctrl+Option+Space), the app should wait for the speech recognition to finalize the text before sending/typing it. Currently it may send intermediate/partial text. This is different from 'submit dictation' which intentionally sends intermediate text immediately.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-14T20:07:25.156336-08:00","updated_at":"2026-01-14T20:12:04.006556-08:00","closed_at":"2026-01-14T20:12:04.006556-08:00","close_reason":"Implemented - PTT release now uses requestGracefulSleep() to wait for finalized text before switching to sleep mode"}
{"id":"VoiceFlow-pw0","title":"Add 'format that' command for selected text (style/cleanup)","description":"Review needed: decide formatting scope + tooling (Grammarly vs AI).\n\nCreate a command that formats selected text (cleanup punctuation/caps/whitespace) and optionally runs style review (Grammarly/AI).","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T14:32:42.818718-08:00","updated_at":"2026-01-06T16:17:04.508765-08:00"}
{"id":"VoiceFlow-q15","title":"Improve focus command matching (punctuation/aliases)","description":"Normalize focus queries and add common aliases (e.g., iMessage -\u003e Messages) so feedback matches actual focus behavior.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T11:24:34.246999-08:00","updated_at":"2025-12-30T11:25:34.885945-08:00","closed_at":"2025-12-30T11:25:34.885945-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-qkr","title":"Clicking On button from Off should go to On state, not Sleep","description":"When microphone is Off and user clicks the On (green) button, it should go directly to On/green state. Currently it seems to jump to Sleep/orange state instead.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T12:34:42.572857-07:00","updated_at":"2026-01-15T23:52:15.458866-08:00","closed_at":"2026-01-15T23:52:15.458866-08:00","close_reason":"Code review: toggleMode() correctly calls setMode(.on) from .off state. Logging in setMode will capture any unexpected transitions. Needs reproduction testing.","comments":[{"id":12,"issue_id":"VoiceFlow-qkr","author":"jacobcole","text":"Reviewed code: setMode() looks correct. May be stale bug or user clicking wrong button.","created_at":"2026-01-16T02:51:27Z"}]}
{"id":"VoiceFlow-qpb","title":"Feature: Idea Flow Integration","description":"Implement integration with Idea Flow for quick note capturing. Research commands like 'save to idea flow' or 'write this note for Idea Flow'. Explore UX where the command can occur before or after the dictated text. Consider real-time interaction via a Raycast-style utility or direct stream injection.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T08:21:13.645217-08:00","updated_at":"2025-12-27T15:11:17.386818-08:00","closed_at":"2025-12-27T15:11:17.38682-08:00","labels":["backlog","needs-design"]}
{"id":"VoiceFlow-qs3","title":"Trailing newline sometimes not working at end of utterance","description":"When user says 'newline' at end of utterance, it sometimes doesn't fire. Codex analysis shows:\n1. Word-level 'new line' requires isKeywordGapAcceptable (1.2s) which can fail at end-of-turn\n2. If trailing 'newline' word isn't final in that turn, it won't be replaced\n3. Standalone newline without prior chars may not get 20ms delay\n\nFix options:\n- Bypass gap check when phrase is at end of utterance\n- Always enforce delay before Return even for standalone newlines\n\n---\n\n**Update 2026-01-16:** User confirms separate utterances work 100% of the time. This suggests the issue is timing-related when newline is in the SAME utterance as text.\n\n**Key insight:** When newline is a separate utterance, there's a natural pause between text and the newline keystroke. When it's the same utterance, we may be sending the keystroke too quickly.\n\n**New debugging ideas:**\n1. **Use word timestamps** - We now get timestamps back from AssemblyAI. Could detect when \"newline\" word ends and add delay based on actual speech timing\n2. **Force text flush before newline** - Ensure all pending keystrokes are actually typed before sending Return\n3. **Add logging** - Log timing of: last char typed, newline command detected, Return keystroke sent\n4. **Test hypothesis** - Add artificial delay (e.g., 100ms) before sending Return when it follows text in same utterance\n\n**Question:** Is the issue that Return is sent before text is fully typed? Or that Return gets \"swallowed\" by something? Logging would help diagnose.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-14T01:26:15.048168-07:00","updated_at":"2026-01-16T01:05:44.792088-08:00"}
{"id":"VoiceFlow-qvu","title":"Error notifications block controls - dismiss or auto-hide","description":"Network timeout errors block the main UI controls (latency display, speech off). Errors should auto-dismiss or be dismissible without blocking interaction.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-15T14:16:01.424597-08:00","updated_at":"2026-01-15T14:47:16.527656-08:00","closed_at":"2026-01-15T14:47:16.527656-08:00","close_reason":"Added X dismiss button to warning banners. Warnings are now dismissable and filtered via dismissedWarningIds set."}
{"id":"VoiceFlow-r3s","title":"Close paren and other dictation keywords not working","description":"'Close paren' and potentially other dictation keywords aren't being converted properly.\n\n## Missing/Broken Keywords\n- \"close paren\" ‚Üí )\n- Need to verify full Dragon NaturallySpeaking-style keyword list\n\n## Related\n- VoiceFlow-4o7: Explicit punctuation keywords in live dictation mode\n- VoiceFlow-014: Spoken punctuation keywords\n\n## Solution\nEnsure all standard dictation keywords are in the vocabulary/conversion list and working.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T12:39:09.545552-07:00","updated_at":"2026-01-14T01:29:00.398425-08:00","closed_at":"2026-01-14T01:29:00.398425-08:00","close_reason":"Added parentheses, brackets, braces keywords to dictation"}
{"id":"VoiceFlow-r924","title":"Settings cleanup: collapse filled API keys, sync version, audit duplicates","description":"Several cleanup items for the Settings panel:\n\n**1. Collapse Anthropic API key when filled**\n- Other API keys collapse/show 'Configured' when filled\n- Anthropic key should follow same pattern\n- Check: AssemblyAI, Deepgram key handling for reference\n\n**2. Version number out of sync**\n- Version shown in Settings differs from dropdown menu\n- Should pull from single source (AppVersion.version / AppVersion.build)\n- Ensure both places use same values\n\n**3. Audit for other duplicates/out-of-sync**\n- Search for hardcoded version strings\n- Search for duplicate state/settings\n- Check for copy-pasted constants that could diverge\n- Look for TODO comments about sync issues\n\n**Implementation:**\n- Grep for version strings, API key patterns\n- Consolidate to single source of truth\n- Add computed properties that reference canonical values","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-16T00:27:15.074003-08:00","updated_at":"2026-01-16T00:27:15.074003-08:00"}
{"id":"VoiceFlow-r9v","title":"Extend command flash duration","description":"Keep the command toast visible longer for better readability.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-30T11:24:24.028094-08:00","updated_at":"2025-12-30T11:25:26.20792-08:00","closed_at":"2025-12-30T11:25:26.20792-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-rce","title":"Create UI with three microphone modes","description":"Modes: Off (no response), On (transcribing), Wake (voice commands). Show current mode visually.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-26T18:18:33.328509-08:00","updated_at":"2025-12-26T18:25:09.54532-08:00","closed_at":"2025-12-26T18:25:09.54532-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-rhc","title":"Review: Command Feedback \u0026 UX Fixes","description":"Review the green pulse feedback on command recognition, the status label in the floating panel, and the fixed behavior dropdown UI alignment/shape.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T07:17:23.875059-08:00","updated_at":"2026-01-15T17:18:41.537142-08:00","closed_at":"2026-01-15T17:18:41.537142-08:00","close_reason":"Feature reviewed and working - Command feedback with green flash and status indicator working","labels":["needs-review","sleep-deprived"]}
{"id":"VoiceFlow-rsr","title":"Feature: Voice Spelling Mode","description":"Implement a way to spell out words or characters by voice (e.g., 'spell A B C'). The app should parse the letters/words after the 'spell' command and type them out character-by-character. Useful for acronyms, technical terms, and complex passwords.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T07:39:32.914101-08:00","updated_at":"2025-12-27T15:09:14.975546-08:00","closed_at":"2025-12-27T15:09:14.975549-08:00","labels":["backlog","needs-design"]}
{"id":"VoiceFlow-rzz","title":"Command history feature","description":"Add ability to view and potentially re-execute past voice commands","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-26T23:44:40.137872-08:00","updated_at":"2025-12-27T15:07:26.887392-08:00","closed_at":"2025-12-27T15:07:26.887394-08:00","labels":["backlog"]}
{"id":"VoiceFlow-s4b","title":"Letter 'e' dropped when typing into Google Docs","description":"When dictating into Google Docs, the letter 'e' is systematically dropped from typed output.\n\n**Observed behavior:**\n- VoiceFlow correctly transcribes: 'we are a universal ai agent'\n- Google Docs receives: 'W ar a univrsal ai agnt.'\n- Every instance of 'e' is missing\n\n**Hypothesis:**\n1. Google Docs may intercept 'e' key for internal shortcut\n2. Keystroke injection timing issue specific to Google Docs\n3. Race condition between VoiceFlow's CGEvent posting and Google Docs' input handling\n\n**Investigation needed:**\n- Check if other apps have similar issues\n- Test keystroke injection timing/delays\n- Check if Google Docs has 'e' as a keyboard shortcut\n- Consider using accessibility API instead of CGEvent for Google Docs","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-13T14:26:49.20777-07:00","updated_at":"2026-01-13T14:36:46.680849-07:00","closed_at":"2026-01-13T14:36:46.680849-07:00","close_reason":"Fixed with 3ms inter-character delay for browser apps"}
{"id":"VoiceFlow-s7l","title":"Expose formatted turns toggle (format_turns)","description":"Add a user setting to toggle AssemblyAI `format_turns` so users can choose formatted vs raw turns (may affect latency/punctuation). Default to formatted=true.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-27T06:03:45.732466-08:00","updated_at":"2026-01-14T19:03:00.793984-08:00","closed_at":"2026-01-14T19:03:00.793984-08:00","close_reason":"Already implemented - Live Dictation toggle in Settings controls format_turns"}
{"id":"VoiceFlow-s7w","title":"Wake command to escape sleep mode","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T18:24:47.649337-08:00","updated_at":"2026-01-15T23:16:40.363084-08:00","closed_at":"2026-01-15T23:16:40.363084-08:00","close_reason":"Wake commands already exist (wake up, speech on, flow on). One-shot dictation covered by VoiceFlow-gnbd"}
{"id":"VoiceFlow-sgr","title":"Pasting/typing behavior broken in dictation mode","description":"When in 'On' mode (dictation), spoken text is not being typed into the active application. The transcript may show in the panel but CGEvent typing is not working. Check: turn.isFormatted flag, typeText() function, accessibility permissions.","notes":"Root cause identified: app lacks Accessibility permission. Added auto-prompt to open System Settings when permission not granted.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-27T00:10:29.464693-08:00","updated_at":"2025-12-27T03:21:49.713307-08:00","closed_at":"2025-12-27T03:21:49.713307-08:00","close_reason":"Dictation typing/accessibility issue resolved; permission handling now fixed.","dependencies":[{"issue_id":"VoiceFlow-sgr","depends_on_id":"VoiceFlow-xqq","type":"blocks","created_at":"2025-12-27T00:59:21.442526-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-shy","title":"Add configurable storage directories for recordings/transcripts/notes","description":"Add Settings UI for configuring base directory for recordings, transcripts, and notes. Default to ~/VoiceFlow/recordings, ~/VoiceFlow/transcripts, ~/VoiceFlow/notes. Auto-create directories if they don't exist.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-15T16:50:04.214873-08:00","updated_at":"2026-01-15T16:50:04.214873-08:00","dependencies":[{"issue_id":"VoiceFlow-shy","depends_on_id":"VoiceFlow-9vj","type":"blocks","created_at":"2026-01-15T16:50:13.822792-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-so6","title":"UI Improvements: History Icon and Compact Volume","description":"Add history icon to top bar that opens history settings. Make volume indicator smaller/vertical.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T19:41:25.481691-08:00","updated_at":"2025-12-29T19:45:28.897046-08:00","closed_at":"2025-12-29T19:45:28.897046-08:00","close_reason":"Implemented as requested.","labels":["UI"]}
{"id":"VoiceFlow-sqa","title":"Improve Commands settings categories (TOC/filters)","description":"Make command categories more obvious in Settings \u003e Commands (e.g., segmented filter or table of contents).","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-30T11:58:16.403364-08:00","updated_at":"2025-12-30T12:19:51.352226-08:00","comments":[{"id":7,"issue_id":"VoiceFlow-sqa","author":"jacobcole","text":"Commands settings categories still unclear; need TOC/section UX improvements","created_at":"2025-12-30T20:19:51Z"}]}
{"id":"VoiceFlow-ta46","title":"Investigate persistent Claude session vs per-message process","description":"Current approach spawns fresh Claude process per message with history injected as text. This is inefficient.\n\n**SOLUTION FOUND**: --resume works with --print!\n\nTest confirmed:\n1. First call returns session_id in JSON response\n2. Subsequent calls: claude --resume \u003csession_id\u003e --print --output-format stream-json 'followup'\n3. Claude remembers full context (asked 'what did I just ask you?' and it knew)\n\nImplementation:\n1. Store session_id from first response (already in JSON output)\n2. Pass --resume \u003csession_id\u003e on subsequent messages\n3. Remove the hacky \u003cconversation_context\u003e text injection\n4. 'Clear chat' = just forget the session_id, start fresh\n\nBenefits:\n- True multi-turn with full context\n- Tool memory (remembers files read/edited)\n- No re-processing history as text each time\n- Session persists to disk automatically","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-15T23:47:11.731435-08:00","updated_at":"2026-01-15T23:49:20.18827-08:00"}
{"id":"VoiceFlow-tciu","title":"Help/Commands reference panel - show available voice commands","description":"## Feature Request\nAdd a \"Help\" or \"Commands\" menu item to the \"...\" menu that shows available voice commands.\n\n## Requirements\n1. **Menu Item**: Add to \"...\" menu: \"Show Commands\" or \"Help\"\n2. **Commands Reference**: Show all available voice commands organized by:\n   - Mode-specific commands (what works in Off, Sleep, On modes)\n   - System commands (wake up, go to sleep, etc.)\n   - Formatting commands (new line, period, etc.)\n   - Special keywords (command, say, spell, etc.)\n   - Custom user commands\n\n## Implementation Options\n- Open Commands tab in Settings window\n- Open as separate floating panel (can keep open while learning)\n- Popup quick reference card\n\n## Key Information to Show\n- Commands available in **Off** mode (limited - usually just wake commands)\n- Commands available in **Sleep** mode (wake up, are you listening, etc.)\n- Commands available in **On** mode (all dictation + formatting commands)\n- Keyboard shortcuts alongside voice equivalents\n\n## UI/UX Considerations\n- Should be easy to keep open as reference while learning\n- Could highlight recently used commands\n- Search/filter capability for long command lists","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T23:39:09.498757-08:00","updated_at":"2026-01-15T23:42:47.08887-08:00","closed_at":"2026-01-15T23:42:47.08887-08:00","close_reason":"Added Voice Commands menu item to ... menu"}
{"id":"VoiceFlow-ton","title":"Improve focus matching (ignore spaces/punctuation)","description":"Allow focus commands like 'focus ideaflow' to match app names ignoring spaces/punctuation.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T16:11:08.750742-08:00","updated_at":"2026-01-06T16:11:18.267179-08:00","closed_at":"2026-01-06T16:11:18.267179-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-tret","title":"'command open' should focus input if panel already open","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-15T18:28:31.364983-08:00","updated_at":"2026-01-15T18:51:09.239939-08:00","closed_at":"2026-01-15T18:51:09.239939-08:00","close_reason":"Fixed: command open now focuses input if panel already open via notification"}
{"id":"VoiceFlow-u08i","title":"Command panel font size - larger default and settings control","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-15T18:26:19.976451-08:00","updated_at":"2026-01-16T00:22:45.31829-08:00","closed_at":"2026-01-16T00:22:45.31829-08:00","close_reason":"Added command panel font size setting (10-20pt range, default 14pt). Setting is in Settings \u003e General \u003e Appearance section. Font size affects message content, input field, and placeholder text in the Claude Code panel.","labels":["needs-verification"]}
{"id":"VoiceFlow-u5q","title":"Window resize by dragging broken","description":"Lost the ability to resize the floating panel window by dragging. Need to investigate what change broke this.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-01T01:34:35.639953-08:00","updated_at":"2026-01-15T18:51:09.846753-08:00","closed_at":"2026-01-15T18:51:09.846753-08:00","close_reason":"Fixed: Added padding to SwiftUI views to expose window resize handles"}
{"id":"VoiceFlow-ucp","title":"Verify no-punctuation mode works correctly","description":"## Verification Needed\n\nConfirm that the \"no punctuation\" mode works correctly across all speech providers.\n\n### Current Implementation\n\n**Apple Speech (AppleSpeechService.swift)**:\n- Uses `recognitionRequest.addsPunctuation = false` when live dictation is enabled (line 75)\n- This is controlled by `liveDictationEnabled` setting in AppState (line 1021)\n\n**AssemblyAI / Deepgram**:\n- No explicit punctuation toggle found in current implementation\n- These services may always return punctuated text\n\n### Test Cases\n\n1. Enable \"Live Dictation\" mode in settings\n2. Use Apple Speech (offline mode)\n3. Speak a sentence and verify no punctuation is added\n4. Test with online providers (AssemblyAI/Deepgram) - document behavior\n\n### Potential Issues\n\n- AssemblyAI's `format_turns` setting (ticket VoiceFlow-s7l) may need to be exposed\n- Deepgram may need `punctuate: false` parameter in WebSocket connection\n- Need to verify AI formatter doesn't re-add punctuation when no-punctuation mode is active\n\n### Related Tickets\n- VoiceFlow-s7l: Expose formatted turns toggle\n- VoiceFlow-z25: Context-aware capitalization/punctuation","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T22:35:57.207007-07:00","updated_at":"2026-01-09T21:01:33.85399-07:00","closed_at":"2026-01-09T21:01:33.85399-07:00","close_reason":"Fixed: expectsFormattedTurns was hardcoded to true, preventing unformatted turns from moving to history in live dictation mode. Changed to computed property based on liveDictationEnabled."}
{"id":"VoiceFlow-ueqg","title":"Blue button causes double-typing - buffer flush + final transcript both type","description":"When clicking the blue 'force send' button:\n\n1. flushDictationBuffer() types the current buffer\n2. Then AssemblyAI's final transcript arrives ~1 second later\n3. The normal handler types it AGAIN\n\nLogs show:\n```\n[2:02:36] flushDictationBuffer: 'okay this is a test what's' (37 chars)\n[2:02:37] Live typing delta (final): 'okay this is a test what's happening' (37 chars) ‚Üê DUPLICATE\n```\n\nFix: After flushDictationBuffer, mark the turn as already-typed so handleDictationTurn skips it when the final arrives.\n\nRelated: VoiceFlow-zga3 (PTT should let utterance finish naturally)","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-16T02:03:04.777253-08:00","updated_at":"2026-01-16T02:03:04.777253-08:00"}
{"id":"VoiceFlow-ukw7","title":"Recordings panel with directory outlink","description":"Add a recordings panel to view audio recordings. Should include an outlink to open the recordings directory in Finder. \n\nThis is part of a broader pattern: all content panels (recordings, notes, issues, etc) should have outlinks to their underlying directories.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T00:49:38.846059-08:00","updated_at":"2026-01-16T00:49:38.846059-08:00"}
{"id":"VoiceFlow-uvam","title":"Dictation Box - standalone rich text scratch pad for voice dictation","description":"## Feature Request\nAdd a \"Dictation Box\" feature inspired by Dragon NaturallySpeaking.\n\n## Description\nA standalone window/panel where dictated text appears in a rich text editor:\n- Pop-up window for focused dictation\n- Rich text formatting (bold, italic, lists)\n- Useful for composing emails, documents, notes\n- Scratch pad for preparing text before copying elsewhere\n- Could include voice commands for formatting (\"bold that\", \"new paragraph\")\n\n## Prior Art\n- Dragon NaturallySpeaking's \"DragonPad\" / Dictation Box\n- Allows dictation even when target app doesn't support direct input\n- Buffer text, edit it, then transfer to target application\n\n## Potential Features\n- [ ] Pop-up rich text editor window\n- [ ] Voice formatting commands\n- [ ] Copy to clipboard / transfer to active app\n- [ ] Auto-save drafts\n- [ ] Templates for common formats (email, notes)","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-15T23:36:09.135222-08:00","updated_at":"2026-01-15T23:36:09.135222-08:00"}
{"id":"VoiceFlow-v25x","title":"Message queue UX improvements - visual queue management","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-15T18:28:32.281702-08:00","updated_at":"2026-01-15T18:28:32.281702-08:00"}
{"id":"VoiceFlow-v3ix","title":"Volume meter missing/flickering - should always be visible when listening","description":"The volume meter (audio level indicator) is not consistently visible. \n\nSymptoms:\n- Sometimes flickers briefly on screen\n- Not visible when expected (during active listening)\n\nExpected behavior:\n- Volume meter should always be present when VoiceFlow is listening\n- Provides visual feedback that audio is being captured\n- Helps debug mic issues\n\nNeed to investigate what happened to the volume meter display.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-16T01:50:01.826162-08:00","updated_at":"2026-01-16T01:50:01.826162-08:00","labels":["recurring"]}
{"id":"VoiceFlow-vfx","title":"Set up Swift macOS project with SwiftUI","description":"Create Xcode project structure with Package.swift, main app, and basic window","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-26T18:18:29.260534-08:00","updated_at":"2025-12-26T18:25:08.604596-08:00","closed_at":"2025-12-26T18:25:08.604596-08:00","close_reason":"Closed"}
{"id":"VoiceFlow-w5rl","title":"PTT mode: Auto-submit (hit Enter) after utterance finishes","description":"Add option for push-to-talk mode to automatically hit Enter/submit after the utterance finishes. Good for vibe coding workflows where you want to dictate a command and have it execute immediately.\n\nDefault: off\nSetting location: PTT settings section","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T02:03:49.335366-08:00","updated_at":"2026-01-16T02:03:49.335366-08:00"}
{"id":"VoiceFlow-ws3g","title":"Meta-setting: Vibe Coding Mode preset","description":"Add a 'Vibe Coding Mode' meta-setting that enables a bundle of settings optimized for vibe coding:\n\nProposed settings bundle:\n- Live dictation enabled\n- PTT auto-submit enabled  \n- [other relevant settings TBD]\n\nUI requirements:\n- Info box showing which settings will be changed\n- Maybe a preview/confirmation before applying\n- Easy way to see current state\n\nNeeds review: Audit current settings and determine optimal vibe coding defaults.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T02:03:57.944112-08:00","updated_at":"2026-01-16T02:03:57.944112-08:00"}
{"id":"VoiceFlow-xce","title":"'say' escape mode is intermittent across turn boundaries","description":"When saying 'say' then pausing then 'newline', the literal mode sometimes doesn't persist across the turn boundary. Added pendingLiteralMode flag to fix cross-turn 'say' escaping, but user reports it still works intermittently. Need to investigate why the flag isn't always being respected.","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-14T20:07:21.816251-08:00","updated_at":"2026-01-14T20:07:21.816251-08:00"}
{"id":"VoiceFlow-xqq","title":"Accessibility permission not being detected after granting","description":"VoiceFlow reports AXIsProcessTrusted() as false even after user grants Accessibility permission in System Settings. Tried: AXIsProcessTrustedWithOptions with prompt, re-signing app with codesign, manually opening System Settings. The app appears in Accessibility list but permission check still fails. May need proper code signing with developer certificate or different approach to permission detection.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-27T00:59:14.118916-08:00","updated_at":"2025-12-27T03:21:57.831201-08:00","closed_at":"2025-12-27T03:21:57.831201-08:00","close_reason":"Accessibility detection issue resolved; permission handling verified and stable now."}
{"id":"VoiceFlow-yce8","title":"Design issues access from menu - internal panel vs external link","description":"Options for accessing VoiceFlow issues from the app:\n\n1. **Menu ‚Üí Open Issues (external)**: Opens beads web UI or terminal with bd list\n2. **Menu ‚Üí Issues Panel (internal)**: Native SwiftUI panel showing open tickets\n3. **Agent Panel integration**: Show issues in collapsible section of command/agent panel\n\nRelated tickets:\n- VoiceFlow-ii6y: Voice command to view/add tickets\n- VoiceFlow-45x: /voiceflow skill for issue management\n- VoiceFlow-fpg1: Project context panel\n\nQuestions:\n- Is a native issues panel worth the effort vs just 'bd list' in terminal?\n- Should creating tickets default to VoiceFlow- prefix when in the panel?\n- How does this relate to the project context panel (VoiceFlow-fpg1)?","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T23:44:11.346278-08:00","updated_at":"2026-01-16T00:23:34.768988-08:00","closed_at":"2026-01-16T00:23:34.768992-08:00"}
{"id":"VoiceFlow-ylcy","title":"Settings page UI audit - improve UX and conciseness","description":"Audit the settings page UI and improve user experience:\n\nGoals:\n- More concise layout\n- Better organization/grouping\n- Clearer descriptions\n- Remove redundant/confusing options\n- Review after implementing meta-settings like Vibe Coding Mode\n\nThis is a review task - propose improvements before implementing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-16T02:04:05.365134-08:00","updated_at":"2026-01-16T02:04:05.365134-08:00"}
{"id":"VoiceFlow-yoc6","title":"Fix 'Thinking...' indicator to always show during sending phase","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-15T22:20:45.81112-08:00","updated_at":"2026-01-15T22:20:45.81112-08:00","dependencies":[{"issue_id":"VoiceFlow-yoc6","depends_on_id":"VoiceFlow-ne1d","type":"blocks","created_at":"2026-01-15T22:20:53.010672-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-yxd","title":"Command panel: Cannot focus input field after first message","description":"After sending the first message to Claude in the command panel, it becomes impossible to focus the ask Claude input box. Even clicking directly on the text field doesn't restore focus. The window accepts click but the text field won't become first responder. This completely blocks multi-turn conversations.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-15T16:44:56.842656-08:00","updated_at":"2026-01-15T16:52:33.608165-08:00","closed_at":"2026-01-15T16:52:33.608165-08:00","close_reason":"Duplicate - root cause identified in VoiceFlow-k3d (disabled input field due to connection state)"}
{"id":"VoiceFlow-yyqe","title":"Smart auto-scroll with 'jump to bottom' button","description":"Current auto-scroll behavior issues:\n- Doesn't keep scrolled to bottom during streaming\n- But also auto-scroll can be annoying when reading earlier content\n\n**Desired behavior:**\n1. Auto-scroll only if user is already at/near bottom\n2. If user scrolls up to read, stop auto-scrolling\n3. Show 'jump to bottom' button when new content arrives and user is scrolled up\n4. Button should show unread message count or indicator\n\n**Standard pattern:** Many chat apps use this (Slack, Discord, etc.)","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T00:20:26.277497-08:00","updated_at":"2026-01-16T00:20:26.277497-08:00","dependencies":[{"issue_id":"VoiceFlow-yyqe","depends_on_id":"VoiceFlow-3ksx","type":"blocks","created_at":"2026-01-16T00:20:33.570474-08:00","created_by":"daemon"}]}
{"id":"VoiceFlow-yzn1","title":"[Meta] Establish regression testing checklist and acceptance criteria tracking","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-15T18:38:36.946079-08:00","updated_at":"2026-01-15T18:38:36.946079-08:00"}
{"id":"VoiceFlow-z25","title":"Improve context-aware capitalization/punctuation on transfer","description":"Review needed: define capitalization/punctuation rules by app context.\n\nExplore using accessibility context (focused field/app) to adjust capitalization/punctuation before typing; align with AI formatter behavior.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-06T14:32:54.643277-08:00","updated_at":"2026-01-06T16:17:09.870539-08:00"}
{"id":"VoiceFlow-z2l","title":"Adjust transcript copy button to avoid overlapping text","description":"Copy button in floating panel overlaps transcript text; adjust layout or padding to prevent overlap.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-30T11:44:23.077869-08:00","updated_at":"2026-01-15T21:49:15.121283-08:00","closed_at":"2026-01-15T21:49:15.121283-08:00","close_reason":"Fixed: Added extra trailing padding to transcript and increased copy button margins"}
{"id":"VoiceFlow-z2n","title":"Add 'are you listening' voice command to check VoiceFlow status","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-15T14:02:42.610649-08:00","updated_at":"2026-01-15T17:13:18.26035-08:00","closed_at":"2026-01-15T17:13:18.26035-08:00","close_reason":"Implemented confirmListening() method with NSSound.beep() and visual flash showing mode status"}
{"id":"VoiceFlow-z7i","title":"Feature: Advanced Voice Window Management","description":"Implement voice commands for switching between recent windows/apps. 1) 'window recent [N]': switch to the nth most recent app using a stack maintained via NSWorkspace notifications. 2) 'window switcher': simulate a persistent ‚åò+Tab overlay. Research using Accessibility APIs for individual window-level switching vs just app-level.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T07:40:54.430987-08:00","updated_at":"2025-12-27T14:43:05.000188-08:00","closed_at":"2025-12-27T14:43:05.000191-08:00","labels":["backlog","needs-design"]}
{"id":"VoiceFlow-z8ic","title":"Use word timestamps to detect pause-preceded commands","description":"## Problem\n\nCommands like \"go back\", \"scroll up\" can trigger accidentally mid-sentence:\n- \"I want to go back to what I said\" ‚Üí triggers navigation\n\n## Proposed Solution\n\nUse word-level timestamp data from ASR (AssemblyAI/Deepgram) to detect if a command phrase was preceded by a pause.\n\n### Data Available\n\n```swift\nstruct TranscriptWord {\n    let startTime: Double?\n    let endTime: Double?\n    ...\n}\n```\n\n### Algorithm\n\n```swift\nfunc isPrecededByPause(wordIndex: Int, words: [TranscriptWord], threshold: Double = 0.3) -\u003e Bool {\n    guard wordIndex \u003e 0,\n          let prevEnd = words[wordIndex - 1].endTime,\n          let currStart = words[wordIndex].startTime else {\n        return wordIndex == 0  // First word counts as pause-preceded\n    }\n    return (currStart - prevEnd) \u003e= threshold\n}\n```\n\n### Behavior\n\n- If command word is preceded by pause (\u003e300ms gap) ‚Üí execute command\n- If command word flows naturally from previous word ‚Üí treat as dictation\n- First word of utterance always counts as pause-preceded\n\n### Commands to apply this to\n\n- go back / go forward\n- scroll up / scroll down  \n- copy that / save that\n- Other risky \"natural speech\" phrases\n\n### Research\n\n- Talon/Dragon use same phrases but are command-only systems\n- VoiceFlow mixes dictation+commands, needs smarter detection\n- AssemblyAI and Deepgram both provide word timestamps","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-15T23:33:48.591432-08:00","updated_at":"2026-01-15T23:33:48.591432-08:00"}
{"id":"VoiceFlow-zas","title":"Add in-app help/documentation for voice commands and capture modes","description":"Add documentation inside the app explaining all voice commands and capture modes:\n\n## Content Needed\n- List of all voice commands with examples\n- Explanation of capture modes (recording, transcribing, notes)\n- Stop keywords for each mode\n- Extended pause behavior (10s default)\n- Directory structure for saved files\n- How modes can run independently\n\n## Location Options\n- Help menu item opening a help panel\n- Searchable command reference (VoiceFlow-65o related)\n- Tooltips on relevant UI elements\n- Settings section with command reference\n\n## Should Include\n- 'command [text]' and 'long command'\n- 'voiceflow start/stop recording'\n- 'voiceflow start/stop transcribing'\n- 'voiceflow make a note' variants\n- All stop keywords","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T16:54:03.380601-08:00","updated_at":"2026-01-15T17:19:09.195604-08:00","closed_at":"2026-01-15T17:19:09.195604-08:00","close_reason":"Documentation already exists via Commands tab in Settings which displays systemCommandList including all new commands (long command, are you listening, stop command)"}
{"id":"VoiceFlow-zga3","title":"PTT: Let utterance finish naturally on key release (don't ForceEndpoint)","description":"Current behavior: PTT release calls forceEndUtterance() which sends ForceEndpoint to AssemblyAI, cutting off transcription immediately.\n\nDesired behavior: PTT release should:\n1. Stop recording/sending audio\n2. Let AssemblyAI finish processing the audio buffer naturally\n3. Wait for the final transcript before going to sleep\n\nThe ForceEndpoint cuts words off mid-transcription. The blue 'submit' button should be the one that forces immediate send of partial text.\n\nDistinction:\n- **Blue button**: Force-send whatever is there NOW (keep ForceEndpoint)\n- **PTT release**: Stop mic, let transcription finish naturally (remove ForceEndpoint)\n\nImplementation: In requestGracefulSleep(), remove the forceEndUtterance() call but keep the timeout fallback.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-16T01:49:52.974897-08:00","updated_at":"2026-01-16T01:49:52.974897-08:00"}
{"id":"VoiceFlow-zjn","title":"Add processing indicator for PTT waiting state","description":"When PTT is released, there's now a brief period where the app waits for finalized text before going to sleep. Users have no visual indication that text is still being processed and will appear shortly.\n\n## User Need\nUser should know that if they wait just a bit longer, finalized text will appear. Currently the UI gives no hint that processing is happening.\n\n## Preferred Option: Vibrating Waveform Animation üéµ\n\nUser prefers a **bouncing/vibrating waveform** style indicator - like audio processing bars that pulse up and down.\n\n### Implementation Approach\n\n```swift\n// Bouncing bars with staggered animation\nstruct ProcessingWaveView: View {\n    @State private var animate = false\n    let barCount = 4\n    \n    var body: some View {\n        HStack(spacing: 2) {\n            ForEach(0..\u003cbarCount, id: \\.self) { i in\n                RoundedRectangle(cornerRadius: 1)\n                    .fill(Color.accentColor)\n                    .frame(width: 3, height: animate ? 12 : 4)\n                    .animation(\n                        .easeInOut(duration: 0.4)\n                        .repeatForever()\n                        .delay(Double(i) * 0.1),\n                        value: animate\n                    )\n            }\n        }\n        .onAppear { animate = true }\n    }\n}\n```\n\n### SwiftUI Resources\n- SwiftfulLoadingIndicators: https://github.com/SwiftfulThinking/SwiftfulLoadingIndicators\n- WavingAnimationView: https://github.com/guledaaydemir/SwiftUI-Animations  \n- Hacking with Swift WaveView: https://www.hackingwithswift.com/plus/custom-swiftui-components/creating-a-waveview-to-draw-smooth-waveforms\n\n## Other UI Options Considered\n\n### Option 1: Animated Microphone Icon\n- Pulse or spin animation on the mic icon while waiting for finalized text\n\n### Option 2: Small Processing Spinner\n- Add a small circular spinner next to the transcript area\n\n### Option 3: Text Shimmer/Skeleton\n- Show a subtle shimmer on the last word(s) of transcript\n\n### Option 4: Status Text\n- Show \"Processing...\" or \"...\" in transcript area\n\n## Implementation Notes\nThe `pendingPTTSleep` flag in AppState already tracks this state. Could expose it as a @Published property to drive UI updates.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-14T20:48:13.547345-08:00","updated_at":"2026-01-15T17:18:23.283195-08:00","closed_at":"2026-01-15T17:18:23.283195-08:00","close_reason":"Implemented animated waveform indicator for PTT processing state with isPTTProcessing published property"}
